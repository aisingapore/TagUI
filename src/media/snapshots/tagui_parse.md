**@prettier/plugin-php v0.11.2**
[Playground link](https://loilo.github.io/prettier-php-playground/#N4IgDgTgpgLjCWUIHkwIPYDsDOIBcok8mMA6vACYwAW+AHAAwA0IMAhgEblW14AsLAK7YoAFU648AMzYAbES2zEA5rKgBFQehhR8M+VBYwIbeLJUBhdAFtrbAAoAJe-hCYsulhxMBjKAGUYAE81VzBsCABaACYQFmgAR0F4aHsTZTs9OQUQYhEIGDS2DLYsgwBfFigKeBh0FDR4LElQNmwYMpFK3MwwQQ68EAAeAH4wajAAHUxpgHoAKgACewBBACV-AFE1xf8LNYBJe1FFgDFkHdEVgHEAVQOztZWAWU3SC4BpRYA-RdFNgBCmwAMgA6C7XRbzWbTOazRbqACMoMWpGoQUW8Gwiyk9TscBUOPqixoWJxZigi2w6EW1ig2BEFEWgjAI0WkUxMAA5NifNA2DomVgSdRKRB0GwKHDFgcpIsguhBIsAO5sEgkmkAa3cytp9UpHOocHCeFms2UtWogg4oJ8Nlmmqgsk4SFg8AAbrNxMp7rMsdhBPTZnwAJwMWGYM0I6Iog7YmiuxZsRYcKBsfrwKSIJnupBKYW4iCLNNKJCLd2IZWE4nVWoqNkcoL0qmYNjhajaFNO9DK6VGmAms0WmjW232x3O1PQBCe72+jiydAcWZ2dpIWYRHwr2tsDet9vabCzdjKZIAfTAbAgIlB1ilM0j8J8op8mpxi91WbUrbpRKLoJPZJFmJUEACtsRAmAAA8YGAot3GLGCoBwJoHwAEmwPl4DQRYAF5FjQq9lHdABtREAF0AG5MTlAAKDCsLQXDcMmEBWIASkWGooFo1jtjWC52SpMAoB8TMMSkD9yW-Nhfzaclr1gy8TDpHQIEmWEQHYyjpkzRZaPaCAwHQbBaMvUlMFxejMIgbCYCYZYVlERwDgAOXOM8ARWLZXJeTZ2IcrlQS5TiAEJmJxbIoE4qNn1Et89K-SlqHkqAkJQrBdLosyBWoYgrIY2y0Ac1ZnLcjzNgADX+Vz-AOZBXPY8LWNPeAOKTTAmRyiyCpsuySqclz3OQM8qpquqGqaljWBg9q1S68y8ss9BrMY+zHLK4bRuqzZavqxrmpAcC5s6-TFvylbCv6jahoqna9smw7ALarT2OmbjeJAfjBI5YRKQA4ogLA7EAJguDFgQtKdAyzA-3fHtpOQ2SoA0mYtJ0h8ozsR0qUEaBFkSZJoCZJLsSvSk2HdUxJzUDqmR8NUu2AkTMGqLL9NCpKzzSrEYFMq60HYziPr4tYBJ2DkGcwdxYKzU7WMWFEBdglFWNRjiMbQ4g+hgM8krwokWdWor7K5CAQvBkWvrFn7FilmXmeQxYFaVvqcNVtjNO06Y0MVAd+j1ikDdxI3lcVxYgvArkmC5ZULeJK3volu21Qd9AWedkBw7DlFI+wLlw7Vr3NbtSz4GUQPafwkPkNorlnrPUus2UUHuRj83OITxBPqToT7c7dOnYbpvy9bl3M-V9GfdFSUkErylq8HzA64bmeKCQYHo7N+Oi0Tm3k-72Cl5JQH4DPNeN+OrOPcn73MDQ3FtDn-XF6N+vT719An4gTf253rju6i3Fn3VOA8M4N0fmpYG48i5ozvj7aAxlG6KnVPhBg1E9K0S5jzdopllCwGQu6OuPhhB1GsI3bA7p54hSFosYAiwoyLklFxAUrCFyUmJGoZQbAfAYgoKw9g7CGEEygMZJQdQIBBAQaI9A89g5L1ovg6GRCuQkPaDYChVCkohT-p3XegDrbAMlqAo+Gdx5KMIcQ0hGifCUOoZxG+xdpjKjyrTWinMoDoCkPRRBsikq0OAGhXxZ5+HsBIkEmRyDBAkHIsHJRtiiERKQf4jGmCAACdpokwB8ZE0JbBwnBMyTEziEUGDCwMb3DkUBrBoAxOKT8KCmTEEzuHCxmAVFqLIZo+xhdPZwM1oUlBMAADUwzKLlBxD4RcIgcnJIpNpAigysmRFwoiaiZpIiIjhhfCADlCyLE2MgU4EMoDVA1HbF8b5JI8wXBiYQhJUxSXMKzdmtEMlDNmbIvJBTIlFJgOREp+FEScSSbIv5Ky1kTI2Vs-Zhzjm0XIJ1Hs2JSZcSwPXYsp0qw0BOcqZ5lJnxXh4WpN66FFwM1kGeYJ5KBSoQNoZKlojnR+E+hpNlcRWIwjiDUCAP4eLK1obnY8H8aWyFtJQrkqS6LYKgrzfmorGVIJpRgTAASGHwiYUyUVIixG1HqBJIOelaiITlXDJcoFRJ8zposR0QRlT1AoNgH2Crgkv0NrXNCLrInKtQroy2FT94gOlmAp24936tTPKK8V7oC6OP6a80FUT1ThUWGUxZvyhmjOolIeJlD6JermWoBZUZhlbL0leEwGIUrYjyQ5GomErxMh2SIu0EB7wuKDu4qQnjvGevQBSxVfj5mcUCcE75ia-mxOrrmxJBah1Fqlfpd5WTPkhNYT8pBk7AWpvKTxIBttqm1IJgjXE0SmmwzDQ3KNCTY0TycZgdJfzV3jqWcUxYKbgXqsWJeJkCZiw1OCHbdAshBDWBwCqUUsNtW+PEfqzE2I-pMmxdQFh7BBFqGmKO3J66J1DKnUmCAlaLySmfTh19-yHLLpIKRsJDAAUOUTS+jNWTyJkQBeM6Rm7M1jImVIKZJl+Vzvngs3DyzVkYLolR7JjGyPMbfRFT9omSAQo4w+TBMq5Urw-qoJccho00LoV+zViwdMcDkDqkyerJGIxopyE1uCzUcAtT4K180bVQDtQ6p199TNyEHXI1+tdw3nl82Km9fqu57sMbbQ+jsL3Xwjg3UL+nem30Xauv5760EgvI1mnEM76Khf8ykr9pbbMVrYFW+StaAENrbYsZt0BW3ttcZSLtPbCuLjM5S11w66EybCUp-5cTYAJM67pnrkSUmvKkzR-JQ2AV4WywAqLlT-1HvqUSM9mJ4vh2C2fZLN7Uv3sfR8gb83yOLY-TFeEP6RSUkPYBu0IGwPYhcU7ULFnYPWbJIhlUlpUNsIw5gLDSCmNcZYwbCrQRiMUDmxusFeHKNPvOyROjAV01g9kxDmJbHtLlE44jrJWbeP8ZmWhIrvWF2Y6J8p8Ttm3ko7Hdj2n-zt2KfIypgn6EG7KigBwM83hkVlnwqxUkTqQDrPhCIWCf6+ccBTPU-I5zUzMkZCmNoHDYa8-54LpXZZCEpCwHSdUVNbKcGB5gxRBD2laYjfLvXwuO7MS5GvNQDJ-7W+UXb88DuhfKnyCFF3z5xR0gM2hHXAv-fK-wqo6goeoCSojFrFC69kFp4XP2t8aCpckl8AlOUa4wDgztOveDO2lBl7+lEdecszml8pJn18Ps8iUCgGeDtahI1f2Lznr9xgeEF6pDoYvZJmmd8pIudO1rKboEoEmbAQRMA+BVKYGAPtCzd-TmeAfr4RcT0l-3-PcMp-F7qJiGpagTewQOAcU4mxv0CjUuhBvgvyWah3-n-fatD9Rl32+BvFMd-GtKAOvc9eGXse+YgHQZQEwFVN-LPQXdACgDEUXNiX-eEf-FMZAjELxHbGAuAulJvTUZ1YgdvTAUDKcA2dBI-QfCAxYfFCGSgssfZJAcUIsOkBkYoFGe+fkSlfFM8Cg6wKgvvRhMgpg4Qg3KCKZQQGoTAZQIDWwZCVzU6BcNUN8fFbzCPekXWdMMhWlYUUQzAmkdeNSawcQhmbAESCAcCKkNaYfCAQQFzPGHgtCPGSlSAdACsdeJkauKKXPc-Uwy1Wzdw8vTw7ws5ZpavSIN2dfTGTA4-VMC0TASIOWLEFDYglFYkaAqAWAgw8DXIoSMAIIByXZAmaJByCsfMTABycCOtGwFvVPdvYohA18ag6iFPSvdvCAVo7PVNDo1vNPRwzAXo9oxoros8Ko1CUYvvTotvM8cCGY-ogiQY9vCgDRYgsY+IqkJARACCOUU-eMGkPkNMHQFOKwpAWw2InEUPBrNMdeMo6vCAvZL+NSRGbzaUE4gUZKe4ssPAyw6wq4+w+5eQk+VqIDMuBQtzZtHQS-b46YKQZUWyHQeiP2HWeeJgTlJYZAW4UQewXExYCwbyewbYAAKX8F2H2COBOHOEuBuHuEeD8neDWC+F+H+CBDBAhChBhFhHvURORP5TRIDiSkxJADN3OOsINkJhSB4lUTaGsJCltH5BRO9mLi-SXkJE0OcVa3ay8XohHgrn8RHX5NqEFP6HRJFJzVgH5gNOE3x0mWmX5VtOm0wAn11N7R2TtLoRNJRN9nNOFIpCYCtL5nok9KNPGQdIE1DN+J6JdOlDbBZiZE+ykGiRc1QhRSDi+MFBTDuWVz0j-X1hwT5leQ01wR9wOy6z0yjgCR9iKxTOXxVWwAC3dWXn2zPGSyjgi30VW0DWMWDVMSHm00rLFSvmO3jVdJ1I8T1Ip2HL1lTMbK9OAB9LNP9l1ktKUX5jrPnPTLtNU2XNRP9LXMDNgQ1kjPJy3IbJ3JSW53jLAETIYP7XM3rLTOaBsyzLOQ4FzLLHzNFBsyLK0IVWfIXJ9UMIcMVWZSizZQ0g5RAC5SYB5T5WNjskFQjmFQjSjSjnS1LJDL7QHSAp3JAtVRHWdUfMpXwuaGbJrmXlwr83IpwG7wZhVS7JWx7l7JTn7LizBPPAwolzHI1m1IpHdPzVIrnMvIoqNO9KRNNIPNXIxODPlREroqbPDO533L9NkpFJPPRjPME0Uu3PEvmVU1vPvLtCUPVALCkkWnLCvHgAt0pGaQBMuOxFiIRKkt9KFKPLUFFKjEkgRisv2WwEpnbx0DBjc2wH3DPHgDsHwTSwjCjECtzHoKsocvlKcrsJNhV0pD+0-KpCCp3yhmtXCrbEiuip4NilSpsKPHGDVDIVsPWIhk7BEGqXOQDDvPqFgg0jhirCRQD0fxoGwFKKZR4UpGQ2EXP3tQgBIMfC7CkjsEmpYOJATOQjkIUPcMipIGUIgydl8s-CDnWObAdnaCvFglGtMuvwgiLHcJ9jmsdFjPqDPA1PkLPFCLQPFJ2uIxxVj3HgZUQQgtZSgpgrgoQuRiQsFgcUziT15LRgxjUo8oxLQhuufnuseorncPgWmpEBfO1xpBSk6lpgpWeQULwO0FFCLDnAeD0JsHyPSrsiyKLGgGEE4DMFqCkXvlhLAAesPMooURzgjlBBMDjhjjjj0RYv3QPhMU4vHl5qCgFtvS0rvjdKnN7W1gDKLWNLcv5XZs5o0sDLSkvE6nWuhmyXkvohVs8uiiFgjL40dNNt6FVuihhrJ01sPW1otMMq-XwVZjgMpHZuAkPJszwL1vmkiI2pIGxFonLUwCCE4lTELDFE8RZkJHkjNsaLdqrhbNBpVj5tluYr3iMXYrTjMQS2lv5rYDjj4qnjUzokMjEQMmMDqA-CQCwQpHbNgGQVDpDLbINNbhoVFPFKvTVFPG4INi5GQlUHSKTy0mYn0BEFJXoXistTpQ7WfB2xkPXnjBMBwGdBVUxWSMpH2VxooEJogOxGaRJrLGdHkMEG4K0K1qIndC2XwkIggGIjYw6LvpfvdGiANmftfuiCogIg-uIgAGYf776SJgGqIfZwGKIR6G5lIbxxgwBJUCJwH-6R6pBQ8k82aXbh4sBm56V67gMewm6uYlF26jbTIu78HR5oJuRLafYta8HISzwjqChCGjITJ6ImGP4DSY5+6RVB7r78EQpNYeGI1bTlqOHa7tCakd9eGaHlBRTJ4mBZGObmHm5WH2ACg741H5GJHFH6VrRDJuHcGFHITVHxHzxbS2H7I9GNHy5uZOpIh7HzHNHbHdGrGz4DSOHwLhq64BH0KhHuCt5o5XGDHITPGzGImCH8IfqhqWUuRWJQnLHonrHFGRMvH27YmwLfr-HknWIY4wmsmDSom5GHGFC4njA-HEncIUnwn0nIn360nvHDGqmei8nEnKJ6mSmMnNZwHIGDZjAorTHym3Hy4FlpT8Z65N7sBt6oBQQkGUGF6lIiVVI8xzljMB8t7qax6yDoHP62Mf6gGH6Oi0H8M9H77ogznDnBmn6TngH37Zn5mKAqUy69YpI0DWIMZFbu1pyzbFyI9nnvjXmBaPmEZQR8Jtm5nvjDblCsENzba06LaranakX7a74uZ0TS5KHM69tS7BbAHgXBQ3nlRwXlRi1pcgq881QYXsyPKuw46REUaF8dsdZU77b5FQ5rjc4CWt4O5-Uez87Ytj4paeXs6y65a+kNYbyMbF7hRAiaQpmzlIAoBIhPC-AGRqxYYg7OozkCX6CkofYf0fDSXyWDYf8OjVWKxFQmyBCsR26agd6-CDAOjoBu1oBl929iB14SBqavnJcBK1AhKU9kWAk0ITXqgzX3rGDp1rT0XzbdGfXlD8jP9B9994mwA-rZBhnrB6JI3QX3mY2yCAouQwmC3o2PxI0S3NZk2-X4D-8M3jHjBbbfW0NpjG3dlDJvwckPXkI-B1q238iGHprOAvDJ9xDD73dv0MQ3MpjhRMiRQBQuxkids22zlaJCjmk9JOEe9sBSUI3JRTWwXi3WYDYc3bI83D2KBj2i2q38V0a-9j93sEwixGCx8mj8DcjCDXykjiBUjiB0igMy9MjXlDIG6SGIBaJc382j2o2T372S3t1WJbC-24EVimiFimzNigUMYnQRAGdwPiG+coOYPr3b2yXT2LaltM5bC0jsBqB2o5i09FicP+jph8P7Lq6iHG7SPL3YOb34O72exq3WZaEIpWJiiV3iAOJMNmPmiYc2O1l00+2vXB2U3nWMOh2G2v8IBVNOPCOePIPoP+PyOhPKPEOxPkPwADUH0GPZOQd5OLxFP392iVPXQ1O6323QLLWoV4RoAZcRFVO-A12NPUIOODBDOChiOm6yOK2EOROH3rOiw0OmPViqUljlOIuCPMEiPeOTORmzPC2LPEukOaPWIix6PGOtIMOJiei2P0FsuuP9I8vjO4u4PivyXRPqOJOQB1jrBpP0OnP+vMvqImuouIOSOCur34vhOyWkvyu+ubByQ7PquQV0uRuGu8PIvcujOpv2vBPOuqPxO0DhjBu0vMPhjRvnZWYdvuPov8uDuKOuuFveuzuquLu6vokljGvbucv7vJvYvTPZuSv5uyvev53YZUutI5P0vIfruIlgvvW9X626Un6vPU3O2IzxvduHu2vgeOvK3SurPFvIeVv0iHPAk4esRpitv3PPWB2MfNPfOv0AvYAguPOQumfwvtjKb1Wj3CQHZoA1AqZ1Rt2Nq8jGzgPG9gDXlbaJjWPXPhlav5iWjNjlenP6ulebvhuNjtfNfvv1eVe094fiDOIAA+HdOTkH81yFrTsLrANNvff8AiG3qj6iHF4gQMIy6a6ADWxYcknEfS2GWvQDqX8a+oBKWGTCQef7CyQkiqwP0Dh9bKAMDgExoronsH1mJgZgEMdiZiViOizOEWgyZtqDzPhL7PwwZgREaIAv6aOj4Pkv0lXHmRt3yzwwViT6KaXCGe6KfrRYuiwQ5GLR46sRaRrhyvub7r0U4vjiYZEMTWIf4PkfukJxigCf9p9vwnqv2f7vwptCFfsSkYvlMfgoMRXRjv4nhePPEZtPjP6-6v1R4-rGtf9vWxsRF-5S1fs-5aifyID7Ff7wEz+n-EyChQLjVxm+t6GDg-xbbT9Qes-I-j-xP7v8N+l-diKCC0r6dIuedW2OYS1aglvA6bK1LRE4j7JWIoIBAS9xrbSg7s9CNzBMkXb7JS4TrdMg5HPyOhREAfSmGwH8D2FF8frKCEBkIyWo5ecAivk-1n7MBgGDfViHpHajEgy+6feAVIPxS58mAdAOQSAAM4KCYe7gIsMoMf678Z+6g5gHwG0EUCauSgiQQJ2e5UcNBAANm0ET4S+cEaYEYNUEmDEBZgpgM4ML7gB04LINwTYPL52DzONAnPswH8HTRMGyMEIepGXhPcIhx3AIZxw4ggoSEogkgN10ipNlWBdYUCsYG97FhIuaELIZ611j2t8hWANgaBX77pZ820AG1sIFyEOsChzrKFo4QH5uZ9SeMSoW0JqGdRChsMCKMUItrvQA0+dfZKzDXD0xahIwgag+XThLDjIfQMAHshUiGAdisEBgadAmR61zAYkGALICkSaQsBaMNbEe0Myx19QIoMkIwTczXCJkPCZrCoFOFCRKB1A47o0IjbNCmgrQ6oY6xGE0dxhnEXobYO+Gd8NBwKQ6MAAyHGtvBtvNAvCPOHJCjunfTAbAgJyaRqIBnKERCyfpqCyCmsa1gCLtZkE8hwIzTuUP6HKFBh1I1CLnlVbKR96xIVmGDHxTTBScNtUNhi2zQt1sWWAXFiXRzqu8kRO1O+FGE9pIBviJIQ9H7VXI2ZRqBbQzIwP0iR1o6jLO4dABZbJ07acRPkebS5YepxWMtSVrnSmExYJaorYumaL5YV0pR-nNVmH1srmAAAXj7V0501BuAHVbkASzz7Ev2kvdMuMVV4ucs8bnTXj9wGKXdDernHPGGJN409HedPJzor0jGzENuevTMex22J2Bmkp+c5Ag3sod1T6sMHajZhYFYBcw14OlNARpCgReB1xBvEGx4hK0E2i5WGlzRFIli4W1GE2kaLtL2lraUZIcXGWmrvkiQ38YCHKEcqVUaaOEEEgoUgRlh2a8za1PVTEQwB1W4oTVkoFBJtiQ2q42Mn1iXIa0ZKyLIMoiwfivFn4w6VFryJPHCZs0aLdSmGwxjPhrAyBfSCXU7IMBHBDAMpLniWqnRQiLLTYo8gRh5AdAzCPAjQHqSEg2C9QV5KFDcIQAPC4oCIhQBHRfpRIHYTOGtizCKQGC4hPAmK3sIewGqsEW4GsGBAl4bA51SeJrGuDAhkAXkYEP4BIhmw0w-BSkUISnBch8MynCnMhFlEksh+LdHFsoWxDVwW65DaSWHTxa8tqymsGUd7VeaSSu8ikq1O0xqb8pEad1HoijWeoYSGMhkz+MZMTpPVQiqsCghhP7HZIuQY7foHgDUKYBNQOiAiOpJBZYd54FDGSQsixYBwdJ-Me0Z2VEle1fJWk9vKFPxwJp0ur+TYimjTT4SaQYtISAJL+KF4R8hmfatiAdjsBZAHw0aqNRxHQ04qt2EyDuI1b0gDxChc-FMjTCwxghx1TMMShRS3FoW29QkFaDsBQZgm+Cc5KSV4H8CTYPsWIgFNQSIxW6usUKcpL5qqSJpa0KabBD0mdMos5QVUjMGmDziAIkGLBMHzIF0J0hmkZRk13VhnTlYq03RpNJ0m+MNpn0LaTpChp7SEwy8OisdOAC6C5QhTWBD9MziqM7pwo5QrdJWn3T1pCTTaZS0xRCg5QgfVsa9Iqr7Ta4n03CfFW0ZHx4ZFJRGWjExJoxD+wMjujDLHaJVnszocIJSBEDKQ5RVxXKRYET4UlF2DY4CGe094UFbWAY5vPfCJlG0DYqrCuI9K5CzAAAevOI0goydph0k-hpF4iTAR0wAWiKCHmCcQNIPJeEEkR3zCDXBRYwySuGjjTAuQaEREGE15mgyQJHAcdiIlPDOgiwetALtUR1QQVSJswhrJTAeS5EtZEGIOLrKvC3UtCZs6aQLP0l1xRZ4syYJLNll0VZZGkEdErJVnOxJg6s2GYHG9m0xfZ81KDsrPYg4jtI+s-GUbMRBoRogps8GSDJIAkzLZiVaADbKvCIRVWWrYUBtJdnNgUoFYUEstVTk6ye8tIP2XmGWkmxVp-MmuSHOFliyKqEs96VHOD4xz5ZdCeOW9A8HZzE5yczuVmDTmT4e5hkhebnMoj5zNIxs1GMXLQjANCZZc4mRbKtk1zBAts+uQ7LpTNzNCbs9uQoTXnwAN5yw4vIZO8zBS5p5cnCuFPzhAzz5RtR9tLhEhiRzMU7QkHpBDw2AOERYN3HVIuQJ5y8f2eSNHgWpFhKa+IHnlGA2nX5Zx9w7ALeFgAdgmQcgfkCgTdl3lkI5Y4fNwJyJh0OBeUU+tiG-HtAPh5+KdllTzI4AkA2ZecbYUAIJpI8juAPCLljxwKw8I6a6RDJmkKT-5YUyiYtPzgwyqFJmMSRpMXGGjA5a03JlDM+jilpF3rXwuxxgrGL488CyKmYrWRnzB5OkmGfLmpB75YInBQKkNMoADy7IQ8yGVm3yYgA9p-5P6YEqsV0hQQwSuIHIv-kwzCU8hTeYxWJBxQ2ijUsJa4T0UPTDFYuVhREtlS4IQlJi3JXKnsU+LHFueOJUNPFxFKHMBNVlnzmKneK0Avigxf4pZSsQ9pUyeAM3hgqFLOl3S4BQ4piXlLcaQ0vpW+FUjkLzkJixpX-I7qZLWlUWKpWMoKVpLbQRwkglEr0WxKRlPtHJWMpTjFS6lToWQDMuaWZs-q7S5Gd+L+grKE8t4W1ijE2UgLzZX6CpZSGuUEdzUwRVJQnlOXyLzlASqpR8seWilClwKkpU0rKWvKdlxC+5X9AOWyAjlDSnmc8umkAq2lgS5GSIE6gfAPMEuUFasuxUUBcVQQfFdEovnQrB6VM5aiSvYVkKfxPy+BX8v-nzKLlrAHJUStpW3L4FoITlXiohWzLQFwyqlbCr5WkqEVSKk5dNQCpOhLUqAFVACCCAAA1OQIGAuTxQ4YXIOuDtjggPFzkWAD4eOwgD+8CaZMU6IVN-KdJluofVmCTBnkorBlcyvxWyr2kiA1ALmeVahEVUqqQMUWAlXcrdVyrGgWAb1aqr9XkqhVX6QNS5mZVOqWlbKqpdGpgCeqQ1yqsNZ9H9U8qk1KazAKGt9UZqI1Lyheu6riI+UklQyTYFfhknqq2i+yLVQXDPpto1xNIA1bgVrEmq5A8ga1BaoJTWIBuxfDpRWqrVKSD2GS51QEsHVZJK11SGSRmvaWrK-k0686gWq2XlKhkpQmdWHVjV8zx1GKpZUOs3UhluV4SxdcOqPVPLHVka2KOutlVMTpVNYM9Uqpp5CJklVyYkPWp1UOpm1rMw1e2oFIIqzVTIHtXbD7VB8T+EpDeLeuUJPqlA7CMgdus2q7qosQSx9c+uDbHqFmUGkgDBvgBwaBVN04ZRqqw2wQpi7CBDWiuqaPTslWICJahtg3oaelqy4jThrw0XrSlQy6FURrPXlg0N6S1FfovRXIbkZ3aGAM+FEBQwMNoIETWJok1sbIVHG2KDCuk3UBxNYMCZQyuOJpLyNAmyjVkvZU0blNqm9fIxruWGbZNAy9jRSsU0iqqlZmsGLUvkj1KpVhaijR0z00dK2wMAFwpJoZhoBvNcmwVUWqfAwrfNXm-GOpt-SabflDqyzTuvjWAq9lnm-zZmpPVJboA+GqFdZviWwrQtLhCVY5uOXabWVE65GblugD+BZVLmFCSZp5VlaAglWiRBloU1Pg0t1KktShJi3ya41gmz6Esta0Vb2t6kGralr83laGt1WizV1qvUtbRtbWy1B1pc06a3NCyz6IUsvD4JQQLITVKcApCSattEoKUAFoI2Urst+25hBFqmVabOtgW1zSHMuUXEf462hZmdooA7aMMw257VmwO1NarNwWkVS9tpD0rItKCplddrOW6aVt1GkhU9s21fbJQb2kFfOruUvaft02i5DZpyUA6HNb2QrWDv+UQ6XVyM9YsqEwCapJNxO0nd9qO2Za-t2WincZgu2Mq6QRWpDb1pyX06qdKWhZhzslCo6gt6O7LVUp530xO1kqlnfFoxVBKqYIGeEh9oiXS7r6OgPnRXOFXZaoACuuUYzqi2g7FtxWvdTkvV2qrZdXO+XUbqV3U7mtAuypQbo11nFsdKoXHbrtZ33brCoIZDKcC2GSb3dnui3b9qt0jVLQHu+IVrpB3M68dLK53fppIXe7kYXuwPT7sm03aYA2yjHTRpj2-h7dTm8XT1pd0bxVQtQU4PUHsBBCpgcu-PTAEL0QBi96w5XcntV1DTy9le6vcEIi3Z6CdCWtPWvib0l6vdXeovT3t91o63lsKxvf3vWEIq29y2wnQ9rd2Whm9pek3chnn216U92WpfSXsB00ANNoevjZesQ0S7FlOS9fTXrL1z6B9ie47Vlut1p6z94+zPY7rHUH7VtyMpRI4FEDPBgQkm1-e-s-2D7+dw+7-R-s32TKmdu+2Lfvpz1R7QQgB3-SbpgMr769uymjTAfy047kVTup-bnp-hKJRAtQd7XAdgC4GThIKxbavqGk4G8D7yoHZdui0YHIDVSig8Qa-2EHKDCBk7dfpIWMH8aougregcf2QG9pSiCwHSJIC3AMJzBmAMIeyEwAxDJyv-Sro9rs8Khm1K6uHu63t79dyB2AFIcqGyGJDOh5QnofkN17FDsEZQ+qFUN0GNDQmmfevA4CCBlAb+j-eTv5wOGnDsB0g4ga4iuHHDP+4A9vumVqG4t9B9nT4fcMuH7Dvh5w8YbINIGSFdhtw34fv18H+Neumw67uF6c6kdPKzI7zpiNeHcjTIEPYEasNT6O9JCwo5JsqP5H2DcR-mt2GYTJHnN-B6w8-pn1mZ+l2R8JR0Y2UX6ad-ujXG0WKNXbSjd2qAz0ck0TGajV+uoz0dQMO6Uje+27VRsxUz7CwqoNtJJvWONo2DMxv8BsaKPUHQDk+sY7ZvqAHGtj5xnY9Mdp0cGpNVx+rE0YRKCiQpSihaXnFLlLGTDUYKCbqFdFyAsQBKNJcGJ-YViKQ3mTBKFDqBOFqA5ZRuKsuIAGY8B4tDiv8fMAEdh4CJnaeOUhPQnnwcJwpX7CRNWiUTDsNE4Ca4reNVlfsNLLKyjCwLzAYAS2Y2jIEORgVZ4KCEEFZN6g-oHJ7k+ya5OcRRQsgSUkpQIy8LqgDkYgO6HQA4wlAmoG+e-KqLX1EVOC-IuIOMAyM9FMcTpUyYlBto64vffvqXxrpT9tTXIdk5ybIEhRwoffKKCLQ8GmnlFXxmOJaetNGn7T4MOupw2dPgGSArph5WeEFM2np69p4iinw5h4nYT+2XlfAAVPmA0K54eU4qdBCInaEyJoNGSYfQIAATGJj+MmfMCpnsT-FCM+4ijPllYz8Z+AImbPgFn4AoIIk+mZJOZnOw5JvMxGjrMNn+gtJyqTWrfBJBEAqzLYW8XPzvcpIA52AB8JyqtqqQHYbqq-KghZsulxqDyq8jaQqIG4E53WN+PXgWwIoMzQMBbECSP6yGbdeaX+LUW54NFPk7Mi5SCMQHWjrEcUlubPA7nb+DQkJc+eSBt03zQzboTpBuM7DFgL5t8ycZWNBLnwK0JJmykwD+ArgawE4ByDVM71bGZyDkCEooCgZrAMONKXXAQPPGu8Qosse8d-ieG6TT4GsQIog0LjriLMnQO0B0UOEnCYW5rvRdMQ71fs6uNczbg3Mfw2Lr55Aonm3QHmhL-WE8-JLPNvGLzojVnvcU0VRTbza0MC+5uRm4XoLqMOC+sEQtJh+gVNFC5jLQuAysDESyC3hcAuhIwDU2h82Ub3VqXTgbkA4P4EcBCRkL4XGCphdsA4XTLXIey65EcvOWOQbF3Y9LgpAkBlLkOqA7hZCVsWxwZlbJMFYGNpTzkbFxQtfnCsJqdCsV6-HXCTjRXMrMgMwDlf3gJXkJRYM6ptXPwFWpVexpK+fhSvlWxe2uWqzSAY4IwGWraJrCcNnbxgdCqVmSelZK0z7cLaUrRrZHkLewelyMmKw1eyQjXDIKgCa30aGUDXJdql0y91N8nzXxrAF0FVNcyszWTOtLF5qNYWs7XPDK1yCjBaSYwVrrTASA+pbOkFMYjsSmwJeBczyiGLq5ycRVVsJsXCQ+U6iUmGKkIwsydKf4hVWAhOZgiydWCGSEoX3EMQ75JkDlRSt7MXk955Y3puMUQ38IyrOdbBXhDY2HtUpKAAOegArr+NTookMDfnN3ERT5yG1bsqpkCDihzhfGMq2RuI2frPolK65eFB9AfTllpPWkbaOu7bG+Nt6ZlbQ5mXw4kBqCiEvlsA1E94NZJg5BgQ4N2gZ4Pm5gCwFxAwNWNaDjoWIq7SsVmMim18ZhmM2REZN+vNzY+uwRDIzF7zRjaW1jG9pwxMgTteMse20ZdCGK+sVZie3npz0-C2XEIuvHiL0lpaxfL865VEq1xNgFIDeIBdWbYWwkPsj+vyFez59Y1RSZZFwwDBdgRFWlFEgZgF2iNxicoWrD9B7bC+fIFL3kgJgMQVYQ5ZqDMCIq-0d5gGaY01va3FglvNNMedSNySu8iiyO4Apkv4K5LN5s5HedGMrGYrISv-JlbYO-zVpvp92Kos+N+m69srYvrq1eZMLpMk0h9oZh8rN9uF80bg8VOrBygc7fwYoAyT7uxEfRDNQKhwGZrBANTPp704Dz46FcT7SHGOM9AjiAplsNgvbkDwAcrTXuseZ6AZnhH3waZ1gWSXfzza2CyOgDsTrrcBmIhhkTp6bpnW65Yis4ISlvgskwSHsVIskgNqSgzMcgkofKWkP6HTvEgi8LSFEJg5gcltHR23f7hzGwqmQJA88WDtQ6Fh0PmzDDoOA7FPSnQAquU8eFw8Hmn240JZgzoEgPtRsj7FrdAs0zkYAs3UVFWiMI6SiiPZI+7XRBJl-Fa0DHQcCKMacmFCtrRHFY+PrHkfcDFHpnLBwP1UeV1fmHWPRrY7Vr9ZNHh9uZXbwPuOSEW8bQJwaN3I8ixxNjuJy6WnB4xYYaEUJ45PGQHDIuqT3lATCUc+KVHd6aGnveb7mGqhZBL6Xk-iwkRgQbkB-FLVYnsSVgnE7iQISynmxYkHsciN8zKfga+xR9oh6fcCTNOOJXErkB0+YJdO8saEMZ604md8FchnToSVmkaLacO2unEWxe2gfKOS2RTC-Q+wCL55WHRYKTnOxTHoRvHf53Z0U5rYM5rp+KAIe1FGdsTxn3EpZ1M8kJdPIgkQaiDU4PyqZHn4hfCH2J6MIBXwG9yp2J1zy-G+zSYbhM0kTvJ2EmhIGDFZj4SgFXRzQU5bGzQfDP7nlD7x885q6vOWnbTniX5i+eCTyIvz-57ADSeAvucPx7sLqHhX2GpAHrc5DwpBPU1ACzMuUKsV5c71+X7+RokbR3xBARIBschkM+BcwuHnR9yV9K9645EQxqYsV-oLJfvOuQar0E70SQIoEhJisdHij284jFO22ca57rZIi7QAAImeCORnh6nrkTYL08PwAvfO43Ie3s7PagurwIgRuNMhcIEuFXAL2qQyCicp4JXwQESAxm8f45+nWNR-NeHbzguulmoKF8Q7oSfFLk9maGCF2JpQ2XMF1dzJ5jbTYgcqIgK8M+FOeLAAABl8vevEhbUE1IDcjHrcsKnYB9m4st3RcSJWaimjVawVzCwxOnRC+t+cmJhOF96UUdVpZhnCN5RI6YAjum7aKCD2AwgskK1TERnJz8qufELW9BKXgUgEJ1PuXyTTH3uHOfLkPW4tiW9P0vQ0KJ4J6Io5vHMcO95xAABkiwYFDWRmAIA6Iczt5ws4+dyZuQU6ZbIg8mDr4YA8r2-n2LNy2V2EWbo57CBgA5OCO0H2D5gnXNwm8krDWACGbtMGBwzMH8j3B4I+Bd8I0BaXV7ksRtkqPRHkdhR8w+UhsPFHtCEx-0V2KAPMHm8rB4ycNoRIrzAQstVQckQtKeES3kXBUZ3oht0nu9BpCG1QM+PMARhD3IQmKhlAKGft3BjyQtU0wEAFem5mbk2rFh9ROzDACrAhdL7eNDhMW6tTIZmkrbrzOh5g-7IMseb2YoUjzdDAn68zil+RiElutfklyUZGR9g8wfE0rn+rGgXrdfDAviz7DOwCEkI54T8UVjHRl1sJfA2an6L8znYCTEw1HDeAUl7A9Y5UvrGCdJcmq-cfyIDGekL5qjZifOo+7DGBR+i-XPWdMXjzG24YyFe2AxX31fG+vcO13PGHib555q8aqfPYXjVf54IjleeJOOCD6F83ThfhkkXzj8Eli9mLWIuXqgct8G9peZvr4LL+RBy-fMJvBXlL0N4V239wOFfY73d9O++fMv4Ser41+E8tfKR4n+BFF7g-den9vX8txQAG93fhvgYUb76-G9qeBPMHtvmabG8fviPxpnN-l6B9jf+ZAb9vEh7sqofaB8P9D9zgmQAv4PPvYvoh5soE-Q3A-eevCHrf4-2Ek7355by5DDJmfagYZEk3vhJAn4O+WU07DQIc-vm-eIX9jSBvP45RBC6tXWs580-2EPPhEkoPKEpRX3QyffDQTV9XhL3ZYIYA4R7bweRMhKDX1kiQAReMfiP6umEPg+qNTfev3ZJ+l665ftvWP2H0YxUE2X+U77tCPz50CC-HQNRHX2b42pO+Af1v38f7+CoS-Fuovmrn760AB+6gQfnR8r8Pz4jo-gf4XxDWGTXeAPpPkRGFvSfePKfzfPsWThDfG+6E2AbFPier+IOowUFWGGSFZjVAzk+yYoqUUqKXPWW1gG+QgEiCMEtrChNv46m5fUtUYxYH78DompR9FgTYqmHeansLLCFgBfZLa9cgOunXLrt1yBvUQDcU-Q8EwshCfgtzFcaYBKDWg8BJglIJRAmD38dlH3vMlhSkJJ1s4U98AcnYH5COW96vU2xBIa5BAQkhoKbIsgh0R-+mHGrzv4xrn3jeAl-qpiv+mcJVyAc9nF-6OcP-rb6QBBBAAHv4QASAHMAYASJiQBdXL0SwBeYvB4i23zGNwwUNAXdaPmIAJv7b+pwM64NO7rqKR0BwHuS4TO--vASABlska4AoCyPAFsAmoIgGa4mcGTwfc6AT653OfrrjBe+9ENgHfsuAYgQCBwAQ16EBiIOAFLeIHhS7U81RGQH4YNBCIFiB3OEgEocGZKtysQeAN-7Y+kekwGOuLAbv7sBJToUy6B3AdxK8BtPHgHqBQksQF6BPAZhwZir4OQEmB-IGYEm2BHKxD9c5PGgG2BGAfYGYGjAfa5OBrAa66uBWlAxjKB6riMT8BOBP4EQBgQV4GYcm3DAHGB1EKYHZO0wOT6l+SbjvQRuTZHK5KusbtsIN+ubhqraOeBOw77IOREZDTg1NCzJCKvIIJbTAtfrUAr0ttDG5Su9PlEFv+IAFdT4ARfoy5rUcrgm6VBEQZ+ISBYuG2A2Bywfk7sAHNGsFjewgZsFzByAYcF7BALgUDFUxwbD6nBCAecExBlwUsEAuVALcEd0dPg8GiBWwdEEgAHYLWJXBDLvk4Ahc8HcFyBDtBf4-BTwawAzBQIcX4kgMwVG7rBUIWIEwhSavCGMuSasiEnBGwY8HL42wSABUKmIfk5UKOIfcF4h0IQSF-BrVr2CvBwIdHxzm5IRCHfBaIdSHzBKOvSEIhL2syFNKRzqiG-B8wRTokhIfD2AjE4IXyH3OVQTCFNYUAB6CPKeAPsGwwsofKG8h0LpCHSh7IZnBpSIocWCQWaocQ6UhbIRYEgACVAqFKhcdsjxG0XwUaGChmcB5al6ioW8GgYRwZ8HG+toTCEa0uoRrQGh-IZqEmhZOlyGMumqL6FShZwVqGsQRVI6EWhUYaGEKu-oYSHoY5oQC5JhcYRqHhhJoeXreha+GmGshdoaxDmAuYLqGFhVofCzuhAoTCFtAGyk6EMhC+B-gSh6oXmEwhtqMyabGQYfk4th+pmE7Wh5YQmF-B4Ku2Gww7Jg2GGhFYRGGhK8ULqGvquYR6HjhQVoOH22M4WOEmhcQszoLhq4aWHUYvYRmGEhawiyC6he4a6E9hKIX2HzBbYC9A1hCIeeFLhp4cgHRIuoVdwjhfoTuF-B-XLqEjcT4WGH4hJoVfCXhjLosSfh8YS+HzBQ2n+GkhN4cBGZwxRAeEw4gEemGPBcRCaGQ8uofDxwRTYXOFRUniN2YLhCAHSB+wEEd+GEhrYguGv4aEbOG146YDmyKhSVhlLoWCWBU7dcx0lRKxYZ6HmDsAp0Ow4USHvr47VBD4MXyyuboWCxH2sirIA+AZrNo7tMf9j4jvMwkWNyPgr6nDDJgVXKlZPCp0DU4OQ1IA7poomABiivCbeH6zFSFdlkh2Y8kMmCbER9gmiiR4kU6poEUnNIGcQnrjZxi+lDlZFCRNkcgFxBa3BaEVc+fi5FiRbkTuqvUvfvZHeRYpJc7ORQHq5EyR7kZYGeR7UI5FXw6WJ6j+R0UYFH2hy3CFGORb4Xl4JoJAeGJGBWWKmiLAAAD7FRHgTq7pcWvFnjGuKUiVFlRPsHlHJihgcQQ1RaCHVHlRoHrq7BB2HOUGFRDAO1ENRxQV1ETEZQdVGxIKUg5G1h8ghLz6uxBL5FAejUd0TxiY0X1GTRCIRVz3hOUaWYvu+aClFksR9hoIAA7NoL9gYAKaBcoJprb5RR+0R3QaCWggEKnR2AOdGKChgpCLXRjkjCLAoAQi5IwAbkpfQbKtCI5GLBV5qJDoAygA+juiSdJbKuS7km+DyQ0uvPi0S9EjDZhEx1EQruGAAKzD480DsbbExEgxaBc-xAsJS8CkfsgIxTIHt5vYAOAmApAKbsjBqQZ7vpA7RyUdZFG0GghYIBChwQkItcV0XtEfR0QtoL7KGQqFEvBjQm9F8xB0cwAYx2gjcHF4L0TzGKBLMQFHKER0TLFCxr0KFGyx80UzHixrMSrFSx2gu8Fyx1gq9G8xesf6bMAx0QEIUA6sYDFTRfXKLHiCZscrEWxfgidFGqJfPUDMx70ZLFMA0sQELfiiVMLGORoIUNpixzsalH6xfsdoKtB3Md7ESxt0QLFpCYfi3wixcIXl5W4usS7H2QlsdoJJqccVnGRxrsVbHTQkFgJipxjkRiEZx57orE+xicdHEBCGivLHxx5sTnFuxAQspoVx9scSHVxOsRHE3RbMQbEBCtIQXH9x-Me3HTQRAOqDBx9sbSHaxtEC3HZxGgrIIBCwQs3GFxA8VHElxrEADozx60QsFw6h2uHG1xCcYPENx00BTqjxJ8a3EaC+fNbFihxmHvGMuMQWKHzxG8ePH3R00CqFBxNXI5Hfxjyuljvxvsf7HTQNEb-H2xOob3GLxRcW3EgJkYZP7gJ+8WaFvxY8cAmGxLoW4JZRLoSgnXxS8UnHTQ-vPFH2xXoVAlAJ9cXAkgAj8YgnPxlCVTqAJqCeQl5x+4Jgmzx+4DgkZ8dcWfExCOwUIhEJ+8UmHsJ8ApwlRxFCeXosJ+8VmGkJDCWfEUJJYeIk0JJYYIkV8wia7Ecx00FWHyJ+TqxBVhSibtE3xefNoKdhjaJonxYRiW2H0JuCTAlOC2gsComJmcAOEWJHCafFRx3CROFtELzlwE6u-FtrarOYyKFGvqfTmBzSJIiTHG9WfCTQnzhjiUInOJrsa4kbhdiUXw+6UScokxJbca4mHhCSYEIn6ySXol4JTAGonaJYAO-LhJWiSADnhuiUrFWJ5gjLHRImScMQVJKiW3EFJS3ANwlJ8WNlE5JlSZvGuxK8Y3zYgbSbRwS4nSY0kaC9fI3F1JDSaknLx2glJwDJ7-pMn6JTANvFhRjsnMkrJblsMlTJzAJ-Fi4mEX7CZJuEVhHGaHXnKysCQFkTHDCJMXm5kxAJhTF9eXmHHwoYBAvVJ0x6zNeBy8XSY5KcxuwSbG-ijSQELLKGsY5GOx20Z8lH2jcS8Gl8YKR3SNxgKXbH7xWsVAm5JMCdbGQpXptClG01sXClrRNCUbHzxyKd0kwAD0UarNxGKcoQBx47E-GlJocfilkpJAJzHpxUKf8mgJYflSnxYrQbSnMpkYQ1qkpXKaEpfwIgGymZwVcb8J8pPcUympJHcaNhrcOKaUk9xoqZKnTQc8b8kEpXyZPFjWxmvCk0JyqQqmtxq8aXoSpeqdNCchWqaUmchuqdnH3xJOrymKpL8STqBhpqe0mvxUCXSlEpX8aJByhRYdQlypHqfKHzxrqWkKQWayZAlJRfKcgnep8WOGmhptqX1zYJEafaFxp0aUamsQJCbKnxYJCUmmWp00A6mhRgYZmkopSqWwnxpkYUWn5phKd8lkaxaawB2U-qXymSJaaZnCSJZaWqkFhfqVWmKJLqXyk6JVad2nNp4KdNBmJh2g2msQg6bWkxpA4cOkgADiZZExpASaS6eJnUd4m6WuCuijkQeWI5FzpqmH5HJprADoRrJkSTOk7pG4WsnHpnaTGmHhayRelnpO6eUk9pRSWOk7p9SVWlPpfaTCkXxDRFWkdJh6VmmWBayYlHfpBaT5HPpD6T+lORVadBHXpoGchFVp0Ga+mYp00Ick0mVaYhnYRJyT5TEA5mKTHEgTWGDEQx9eIJbai7NgyFIShGMSCvI7QoJbSRhKY6mZwxEXiK5OECaRlhx9QfWI1C68FRmOS4ZlGCYWPtDSBtAS+HAruAwgKvh1goJKwRnqUplICzAhYLMCuCUsCqCR8cMAgyEg9UrTBF40oPfaYQSMLZAmQ7FEzBtAAYHSDA6qYG3IUwCGL0C4+TIIv5tA9hClQPawiiDKzQ01OfhqAsNlJkyZrgjy79+ObNhBqZI+EeCAE8Kn+h7CTIBMhF4RxN4Z14XMlNSZxtvnknNJ4pOvFxZVSUwC9JL8V3EIh4wsfEZ8eSV9HTQ8IiqmQiuWdoIE4QKbWFZZTsYrFLxmyNoIFZl0VVlWJNWQEKlZNGRVnbRRWSllpZuQL9KFZyWYSnsx2gukJlZmWf+aVZOWSlnNJVgvVnjZ-WfgkpprWBlmMubWbFkNZs2Usl5xdfihhJZq2ePEUJJoa1mjZ7WX1njxridKEqpQSIBkgApgUKnLZNcTNnjxd8aXHCiXvFAAAWUKaBnsygYDdmHZK2fdm+xyyXtLbZf2YwmcxOSt9ne8QSTtn-ZgsasoDJWWdCqoKTbrLBJKwJt4GZQpZh1lrZFCYvbzpy3kun6EKqL4n0uI2d7zc4uXMdm+xYydNBmgHiS95Uu-EtM5CSdLhaFZZEyJDnA5bMU1nTQb2Szn-mhHBTn1xj2UXzN8cOYdlRgBmaBi38cNlqzgxhCkdSwkKsTag+syYK8KiISYayzi45eK+pnIy7H+i1iGIMtRgcmplPxLxrENNAempHrzklCALg0IsZwoCY6CUD8KFbIw6MvCDCmophfZKstYRIDAY-QPvTO5YepQ6MO8Qr1xrJYvg-BVs1xAF5DRsRCF6mGhrAHk8E5OYrHB5dIDCLaCF0RaFO5MkHSAgxCIXYBbgzyIIDCCPuSBhnEqeZSA8olqKcLs58AhXlMAiIA3naCtgfGly2StpyiH8Feeoq1h3VMTpkw6fL7nl5ieQAidWNeRjnG5-MPXnJMeflpC2m-fIVQT59EFPkgA6fhbmz0NQfbEc+DucGzXW2cBXm9IIUOn4BEVirqCjmWSJhFJg6fHIjF8ekCgQ-gXSojBMOZIBaCju5GTUIOoGGfRZL5ieTRnZ5SMLnni+bsvZ5bU0fHGaKm+kFBBMAWonaAf5rYPRYPkiSkWBkg4RG3j3gEeSJxWUkevLaA0hTMDR0gS+ZHlrQltOqSvsVYARzwqlYtcRWU+7skCyAFCgPll5-uTnllU8IKTJUy1huXipgDMPCrDBswNVQkANgHVQ0gh1KciH+LViyDGQ7DJ1T7Ivecih9U1AEsLNyo1MYQKZk1Ebk-26BWSyLQ3lBxBz5npgC5t57KDoVRK71FZRCot6H-l8od8AZzk+phblB7YUFBYUV52PHxHN8mstBDCUiBa7l02HueBqjmtYWhwPooJCP7bIV9pqSPkEiIzFKBQ0elwT4W+MgyQeVvJgCORqMHtKj6UHAOqXI1TrWHThHhddZUCyqPUC62ojJUCowxfO9JfS+fjYX2xX6O4XayC2RnK3UzEnbk6sBtB4U0UEiN4Xu5LBJ7kWhy1CpnDMYmcSDQKoJIUXvJpZgun6BmHHEWn4sAdlgb5+8aUUIkF9nsn9AX0lUpqWa2LFhywTIF8JjFxRZgI8w2SPjjxSIALrYh2ZxW-JkCutpdIVSf3M1zRFngcNHzESUuUHMQZSHJyLRHeK1jxFYQSDGBcsRT8VFiekFmZdE0WYNFPFm+KfhO8t1OQGWssloFxQlPeDCXfkcoKCVt44JckX2xzRaUIEcKRbiItFKclmBfSX6H9j7uFMD4U9FAzpew2UXCjSBSMG4Y5I5kdsNMiEgJYkyDsOc0RMVfFrxStGlIIKF8UzFPeH8UIl7PICUt0wJWiWtmn7FyWUOPJYJYFR-JR1EUuSJdvidscJbo6ilyOT0TQllriCXSlYJbKULRMRdMVAlwpYkWfojkXhIG068t3LT4hkmL4pFkuISVHs7dIxTWQioMZ4f8gxcoDeFJYg4RJ0p0NcLPJhIMrylwjFEjASIN3JnGL5GEJ6UDsI-qKTXWa+T0KnQ3plqbxl3pWNZKMsnugQplQsJhhgJa2OPAMR+KExEtIxAKXBKAa4OqDR+9CmKyZlJ1qCQ8R3ON3YEOcZXjAJlPpUmW6FoZpbmJ+AvrHEi+Yvtxm7EiVNH6Ih0rohg4893BmWdlWZSoDnSP+PmUEQWfkOVKempZn5J+wVDME6O7gC8h5eaEM54jEE5S6wiAHRNSDzlTZZUz4uHZV6XXlMMrmxwwKZCxbfo4oF4gq+hghhDGeYiLhDa+m4GIhDA3bKaKNlI-iJgAVJkJb6IORLqBU+l4SBBXYAiRQOXJ+MwSCjHlZ4KeXvoR5ZaDEAGFduVyRVuNhUWQeFWf72Onpr0J3lXZdmXwVP5SZDkQAQqnGUVC5fIQ0VPgGIj4YrEDPlAul5feUhFkeqMgCVISjPlAysFdmXgVolYSD8VglTBTCVTFQ+WawPFVRWSVyQdJWikslYpXMVvpReUSVoJFJVCVhMjpVaVCxYy5yVI-hGQr+zKISDeZCAFmyUg+PlLx4EyvHZ5H0EpkWCxuumXgTrE1oGplvWzYKNg3cyxeBoUZsBd8T8wALMg77sZ9m7lOgvhcm6pKnQTlLZl5eLRCQF0BV-Bton+fSDqFRvuFVrM+7Obx8AhVLb65V1Dunku42qmFTFVcThFVMAXOSFAFw0wBCIXuKOCVXmOMcDHAN8WyGw7NVZ2K1UoO7VUHi4Q9fDdy9C6ZVPx9VA1NPm9lJHgRxhUsZRNVqVyZXoWW50wMSChQwcoe7RmswCRBsAkQO6IrAkQAABa5ELMBhME1eI5W5r2biXx0CIbbkRgN+U2R1mnYhFVdFMVVSVxVmmglVssNdmSB0gNVHDB1mPGgGDmY2ttlUeo51QVUL5ePFNyQiC1ZEAWCDfEFBgA8hBbAphfOfFQSF7VN+igkbmBwA1IM5S1zGAOVdVV5V7EJDVzV0NU3Sw1JNaVXw1QsC7iggeNcgwNpbWd3bBVGVXAX0gz1aTUs1fOdUW3V-hISUE0rDGAXmAnYgdFDiNVb7CvsWtljSoOZbK9Uim71TvTn48KoDXKmINcunqmpZlCaKg+JjGZ1mNZiLVVmRZsSZOOpJtKV1guZj7T5motfWYycJ2HRC61MJhWaG1DcJ2aNmu6KxTCsEtG2Y21HZnbVdm6+I7W-iOdrLVS8KaArUEQYdcSjpkOjpPDZwMdXLUYwjkcAA6A3lpQI9aBcOfixhUVNwTWmBzkOLCRBxdRBvUqDnjZcgUgJeYJ1FwvIJO1dZloyiIZllQIAsR9gcWcQkJlXXVKndF8ITV7dTXWaQGxd5ZbFEtDsUX4w9PrC91NNeY4HFRSscX0ZgqZpCFwaMEPUdgRVj7UcUY9VLR91CsMKA2QpyDpGHFsqPPUj6a+LRDASUtEnWNkHsKVmKwHHDaXwA1xaxAh2UNIEmuF4GsLUV8rdcTJRVlJZVy9F8KjsBo5FYgnCsIHUHIBBAELoBq9yR7pPhGeQRcoCoS5Zm2QQARtT-BpmXtbREF0ltTmbom-teeDoNxZpXS4metdGYNwqDeQ1B1Ztd7XOOWZlbV4NlJlShB1sVFiX7xadWpZT16JG3XJM20jAhEhjKAGA5sI9CgyQmPREXjN1RdR3T91S9bXWRWw9WxSxYJdiQhnEOwGdTzQBkOxCKkRxZ7an1tQOfW8N18JpBuagjforKaGXCFQn1TUrr49EFjZ7YD1K9dZjAAPROBCgU5JA1CLMuPrRDGNA-vaSMU+JvT7ON1IKMIB8-gO40lidcBQTFSJRbfUXCVxSQ4v1RDWX4f1nas5zi1P9Qz5-1+tirU0g8KvYCQNHYC34zR1NPsgGeaoBA1QN1qAXlLQcDVeAINSDaQ1wmxREbXFEptU2bm1LZrDbZmbohSbwMQQEWYsNJDS7VtkTTb01UNbTTQ0W1nTfQ09NH8C000m96KnXp1a9fkWSNRtCXU11UETDgBcA-sI1WO7iC0TiNKzd-VrNPDYvJowd9SvUG68jRvUOwSjX7nLA+TcKBqNnUBo1aNx9To1VK5evo0vS5zbI0tE2zUI3Vw0qc5z5UMEDo1WNPRC0S2NBjRc1i4jjS0QuNwTW42uQHjam5mQWzfSA+NEZH42wm9Pgi1BNBsMi2otMyFyCRNsgNE0uw99a8zEl8Tbw0ElvZoTFygYpufh9BqrA7b+Z+BMcT1AAXMZDDCoJMMHS8gVcm6rBgkTAmyK1ngrjR5TxWIqYKXTh0TzipkoipP02cfK1pKjcKLqx42DJQ4StNHHHgJ4R5mr4J46rYcqvUdcsLofUKGNXBVsi0AEQtW7PFZQdW1eRJDEgiKH3n2NddfpDmti0EWbrwUEMgDeIXIHgAhQ5vGmhet9hfhBhtNAPUYra6suaAxwithpCKkj0jySK2cbQ9aOFMLbI0mKjdWAB1w9gNwS8qsAHa4PxB2gCBQAbck0DmwTAMAAmZ7svUCKhzkjTbRwaKPakHa+bTQCKhkbdQAJN+fuUIVUirSPQ-Rf0eoQoMhrdYq1KdvF0belTdVyD5tG2q2AVg3CDoDRwwAO4QNtXwtnHFFz0lSBqATdYiBASF9fS3j5GhabkgA8fimVQ1MjKe2r5y1bPScabRLflL4skA-mhEnFmzDTUSJG2AMKxeMeXUWEJBY22YXPm1jzi-7VDAd1CGOrhREZkp+pNqblXxk+A+4tZTm4ZGo5x35z7WJHNoaBG9IHSvtgVkdEaHeYRiRJ4jo7btUYFIyeVT7YR3MgGEuCXOl3rlx6UdXSufAxk8dYfgMd9+UR13iRYAGy54BnK6qYyx4JBioATsPJmq4fsGCUgd0kk5nqYZgGpDFeFfEvFnABwMCD-AawGeBKqrTgcB2uTkJsBngSMdujo+3GTk00d5MdTQzm+yALTyiYMKEQj+CaNnGFRzktDG-RsMRbBFlbFCWUiG6oeWUKw0prcmLASMRw6LIMCRXRbpxpU8WfODOd85zFv7t4U8FptmjH7I+MTRJ0S+WqdDYdyEMJ0gNRYA-yk2gYOqCmqEJTq5rUKBT4RCSuEPDnk+BHUx07Iutvx3HUEjQq3uExRXshHSxtmjBUC2bQTSyNSzVBYbtMCcUWLAyvAXAcgBcMrxfCErbrbQGLBsQbHSQ3c34lFE1lQJVdnHd-A3Fr9XR33FWect3Mds8D-DGW70pl0Nd-bU12q2WTahCVF5wmO3r8XXWLgcNZxQgj9dyTIN0RwQkKN2ZwVAhN2UCXBjxCW0FxUt2MdK3VAgnkR7UK0q1HwT2HZx4rcqCStypRM4yt+uHK2Ii1Djc7oOAuSc2kOcQHg7tlm7QrBkOGQgshv5xtYqZmOKDuGzCOEVVDhX5pjlQ7mOImMI4SRIPlLXk9eVaoyQ9KdfbHpdH0q105uZxcLVPVhEFfkS1zPWI7mV8IGrV21QNSqY6WBOXSjyQY-u+2UOFPaHk1cbnfnQed0hoxEq2WcNoxKIzDoQIriZGcXT2dPEddXGVpSZz3SyBtsRT3dIAOw0Z1ZxRdmEp6zWcV1FJPfuwfd0PZN1jK0HFBAy2SsBT0ewNCABYRKbRb7009pPUk3JussVG6Q9-WDq1StXiR-B+4CPSF5I95jij3MxOPRj0N5+DrGVZ9Rlhj3iO6WA6z89L1bIrC96ffhDb5-KC9VnMgveobe+bvaowV9-VY72cZ7PfvEW9uHZQJ89dtfRD09t0QL1NktfbHbi9VZpL2a1MvfbkFSpyD4QJoSvbQ56hBElg3q9AwmWVa9J8C-Ts8IZUMVFgUtMb1uBGfgYBm98WF33c9BWbrZ29yzX11O9PDcH2u94fe70R4nvZQLAq-NOXBGg3vXkVS0AfRDQMMlxaH1u98Uu-XJuRsTH1itcfdD0-0eOUn264sran1IOeVRn2Y5jkjg6FMWPXn2Pd2fbj2vQd8Jggl9ffY-1k9V+Ur2X5ylI7m19qDPX3BGrRo-3N9JAyz1t9skSf20ZU1jh3n9PfSk389A-WzFD9xGCL2j9BHOrVYgUvX3Zy9s-Qr1AeC-QficQqvbbCr99Iuv29Im-br079BvXv1G9wXSb3pCrDTQln9J-JUU29V-b10O9WfaIyUCD-S9Ue9NoK-0PKoIF5XsIX-b7275-vUgOB9--SH2vM7RSP33VzfKHHgD1GZAMw9kxXD2wDUeCn2qej-cgNo9yhGgOY9ufSe1YDBfeQ4EVdEAQNVmQA+X0MDyPVX1U9FA6TV19TQQ30hydA3wNS1bPSwP7d7AwYPW9toFwOEDPAyrFlDBQ4INUyEvRrWqmWtTvTiD7fveCK9SA8r2yDkFoRLud9EZ52a9ygzr3b9LDrv2BdTA+E6H9C9TwQbpbA6jIcDRgz10SNZg4t2WDpNdYOTdb-YHE8Q3-cXS-9pzcH2dy3gy0O+DfhUiFyusfYEjx9sPdxLw9TuAgNRDXQvfwxDJAHEM592PUkN49uA6SJrMj9Pi6QiNVcwDtlNVQrDyQ+PVaxrM39J8Oo9isTVV8ACQzvylVMI-0lAjhPaX0gj4IqdDh939CmjLlGPs0MqQoI9X0k9wKIUNMlPXsg6N55I7JCMjFQ7oPm9qw1z01DPPXUPFSRPWLV8DQvdkPMj9pFGBj94BR0PS9elrL0z9vQx8kMji3KSnIOiI7Q6kocg8nAKDOQkoNUSUw+p4Adag3DD79Wg4sPXVGPvFQQKbokAVH0dbiRAQtsSHt5TKagHXIAdWYE6Cc2aKIGWIQA+N+0OjRnvdjkgro7XmSCCI6rEBCNo46MQA7riOi48RvkqNk1x0eKIqQiIwoHGCiY+tlLDCY7JBJjlrD7AQtgcK6PHML-WcViqpkCcNUCDIwcUHOTjfSCwAioeMI9tzpSaPlC4Y3mN0FrHYAmxlSo6KQkQyhEgCRjzEDNUD8KwzPoVF3fRsN3dVAtsPB90wLsMUjmAk2NGeLYxQD7DmdTSp4qPvRI3ljPDfG0O9So872eDWstSPWFkXGaOiQFoyMXqDiwN2Nh+do-cn1YOdVIw9jRYLajFgo7sWSOcSo1QGMBj4+wGq2wAFwJgAhemoi1j3QvWMXNz-TYNFjq46SrrjKzZuNntAUHtIw66urEO2ooIJsBh+1bf+OATwgMBOBgoExcLgTk3cWMwTXwnBM6It1kSOTMHPRyOW9KqIYOX9mwys2TjlAtOOeyVw7OMddzYy6N0Fy45BM4qa46WPh9yIFuOwTCI811-jpyABP9oOE3nh4Ti3ZcNh9DI4m6El2IfcMQDjw1AMJ9i6WEPiKgeJEOkDsAt8MwAvwxgOJDt-dgOF9I7EJPRDKIyz2QjHYyz1YjKQxmPWASY4ZO2TpVWiNQjjk1nCwjOI6WbpDxPUJMEjTSI9WEDsY+GZMj1gJSN5DwbMFO0jDPT1pCT9A8P0gjrPWK39MQo65OU95A3FOxjCU8UOPSRIylP8DmYyVPMDbI6f00To4zyOUo3A9QNNDLfTSOtDVIO0MiDk-VKPT9JyLKOgp8o4MPopH44MOqjwwyv1jDGvVqMtIOo7MDpwO9PqNWC2cAf3YCpvZVOsDw49UNW93I6xDGDWw1gPmDLvWxOKT+I7rbik2IWMVDMzg6RMgj6zZpDTAutvgNNki5rlCEeg2gZANaDFAKBFFdQIEDZl1xULKPTOKEmr1tEcEUziOk8LI2nTERcSBxMb0-sVfTPpdcUSCKgLRCIgzgj80sTbNIWOFtJajmp5qgYK9Mlq70xIjbjZY2JN39lAgpOHjkfTvRkhak4EMaTwQzAP24cAxEPAjOQ2CNGTJk+iMm5AIzBQpDafdFM2TKY21X2TGhdCPa96UkCMuTbk-xzgjLPV5MOTmI+LN8zAU2FMZDwU9ahjV-MGLPnI01caaxdQg21PA1nQ1P2wwPQ3P33wTUzlMiO8U1QNFDNA433JTUUyyMZTlQ6sau6I4+sMXCvfWrOND-pk7OqMu4wrBAtomtQB8jZ8NC0e8zYw3URzMrN-ZSR6s71xPaJ0F1BEjhUcuWkoQ4+7PrTdE7UNbTjEzf2oDZM5d2BzWcGgS8TU3TADuGQduTMP1T9SAB-dwPXcWEVfU4v2q+g0yqM3cao58JjTa-VU4b9U00B169LyfNNKwi09KxH9gqStNVDaw1yMX9mkNtNMTu0zsMHTh4yTOJjODmXOETlAnZrZIgk2RNCwAEPxzyTgA-FMqTTIbTOcZQQ9ANDRrwxIqI9iA2zPuTHObEM4Dfw5gPmTyQ3CO4j4UzzW-1Yo+YAT9xs51OmzMo+bNRTqDlSNEDBU-bMlDTPVlMDU8w0Kquz+gxtNzzBIbyP1Tds41PwLopKvUrQZjdHNQwZAgsi5jhC2C0TWwA7jzxzL1YtxJzVaSgs5zm05c00a444gsvzZ7c93DdicqjBvd43ZjMwGxCxcO1ztLVOPSsuIvP0DDi-V3N0R4cKWV9zkw0RDTD+vQaOaDhKSF3LTmcxvAezs8yxO29+c6YNLz9-SvNED3XVc1r1fCxBNSa0qUZokTpw24N-9mAjBweDFM1AuElPIRfPCRV81pMUut83pOszlfezNQ5Uja-OmTV7TzOikys9ZNIjzMRCP0Bosz5OsscI1LOCzXgp5NczWswkt+TRfXKMgjCo+dntzMg8NPL90WOqM9zig-ItUS++XNOG9C00aNLTOg5os-w2i6gu6LC8wXPcN8E0YsVw7E8KMETn3WcUw6L2gjq2La88yMVj+RZAuxje4y4tKTVM3SgU6AQ5fP0z189K06T8A-pMDDgS8-M-DIS+kscZHS5-P+TUS1supLws3EsYjbVQrDn4SS6nPRLss2kveTiszrP+Tzc7kv9TbcwiN5LtCBxwjTJS93OyL4wxNMKw7hNJnD51SxoO1Lai9oPH9U827NaL2c+d25zei6wvMTl3f0v2DJbSRiiTFI810TLsUzX0IjJDiUU1z1LY-UiLui7cVv1oPQ-K+puYIsueLyy94uhDTM+ENvDGy4-MyzHM7sv-DH84CPZLD88yMpLQY6VUizFy-1VXLEs0X3JLdy7b6ojey3QMSrys68sUjXywNOfLQ053O-LxZWUuajFSy0h7eoK8wVDzdboaNQrxow0vUTa0zPMtLY4-b0Tjhi2DOaQe0lgB1wAXJmX1GfgPKEUAzbZ9Jur85VGN0Qfq16W8qJ4JSC2mEcMtSo1DIWjP3daMJghBrfgJtoYSPrWlD+tG41dM8N-duyCfoFi5N3C6XjfSDur7hIFCUCky4Ssl1wdiSuBwdcw3NiLpTjcPJuI1h4vpN-M6g5Pz8Avn3oD8q52u8zX8xMXSDpI9IuBdci4Hb9zBVOCtzDY88xImjyC9VOezUOiZbmLZxa6XhlAoEAO62x86Ss1ri3Y3NUrlkM3xmh9K+k3gTKy4n0sruk0gDvDBk5ytBL6Pbg7dr4SzgP8rxy+2vCrZy48uXLSszcuDTJy2+v9V8s-EtPL1yy8tpDqs0FNKTGsx+virX67Pl9ls9PrNtD4-RKNiDoC++1OzVs9T2zLts3SOM9aU-7NsLKurOtWrnIzatez9Qz7MNTfs01Oikh67Y14ruUwSuJjRK0GTAtZC8cUkLUc3bWgt89bHObd902HNADkGwrOfrzyw3x6zZIy30QL+K0APQL1lrAuMDkm+lPUZHfXoNzrOi7GvezQU77N2M1G-Al0rdG9HAELXG9C0cbC42xt2N6MGTmp8kDn+uRVic9wTrxNm4eO0LDmxrHAASPhktAbkq7e3RQRG1nPWrjC2gt5zKKw6tjBeVHRulr0m5RPNdua192wAVc791VrNLecU7rda1UUMZnfWpukbwW3asEbxk0XM4A4W0QtlsopOXMCLiWwANbr5Kzb2UrG3f0M5DUi1qujDAK+NN6rVy4otuKMwxeOmrTJSb0E1ms032Krus-aZ+b8KwFuIrm08iu5bzE-tPdLh0xxPuepoUVtgt9G9bNTLqtrFtnFO8yMtCT7dYfMjMziyfNYbFq5lvEbtExNtzzU29f0GL5k3tOM1xi1YOLbtG8VsGyDveivbbJw9nBnD8E44tHzm6weOuLDazvQOhR66ApkjgVN2g4b91graTAFE2z1fos+PPimBSEsMNwu72KAXyEtMBOVvtaBdetfDt6+wv3rPK4XMWTkS31O-rTfaKtT82s8BtSrtyxTt0DAG2KuTVMG-yv1blfY1vFL2qy1u9zo68oODzE6z1vaOfW3xuzl1Owku07PmxnOWr-myRuBb6MzlvXbVAhDubh+W50uowz2ytuRbDGyT318MW8us3sbpWuvBTG6xxiVb1a9VtrdiTeNyNLksudsuruc2jBtLDvSrsk75g2Fv6bL2xEsogK61gDulRA70inF+48lvP1qW7VtzLwoD6HNrYO4g4YQidqrufjt1kXBw7GUwjsymSOxEEo7BEmjuQYrU5juUg2OxB1obeO8iPbLau0TvvzJO4cvPr5O6+uU75y+Ltebzk-Tt17jO-Ks07kqyOzs7KDqqtDrGo150b9Au11sqLkK71uLD-W1Bss7om1LujbTSwisO7TC4rsmDyu-Htu720qBJeDxW9rtrb5axtsG7rzKuvSYSk6bulZwe2Sspboi+Hs27Mu2Nty7F2wrtXby+3HuQ7HS+7v7giZNxt1wr2+HC+7BIUfuk1ge2btn7265fvrdEe1BgHaoO6DLg7q+4lMMBSe57Ap7ym2ntz4yNpnsdyqO6y4gFee6oAF725WgqMgra0Kv7LwS9n2hL3M7yu9rRy7Xs3rQs-1VU7nmyJu07xBS3u0Hpy-+vt7Eu53t4DUg5IsyDS-RLPc7KICOs-dyg1UvD7I80F1mr2AhPvCb0G9Ptwbvm7CsML9+7atK7z+6rvXT7SHXJV1JNjbZ1wVdTJaXT680HMRwkNO12Lb6mCQr-kzdWWsLbP22DNEjG8ziAVG9xLYdRbx+zw37bebAY211xmgZx4L69bQ2dgY9ZPU7jGa-BNz11c+bsh79c2HtgH43H3s6rA+-zuK+tMILuqLY+9gIqTEVNHvQHjK88NtkyfWyv+LPezKsE7Oy2QcPrlBxEt9rL62we2bGgpPsRLzByJg-rre3KvNHQ2yBsaiYG-yMQbEInIdT7ku4of-u6G7kM67NswKOFThio7PUbeW7owt9SY3YeZjdPZRuu2RU52NRT0QOVMXys+3bs1Tmm-yPabJU7MstTwg0bOSjK6SAvdT5s2zV9Hj9QHuDHgG0weSrox5FOSbGG-kMi92G3AcOzcC6lOlVCxypvsjZ24cfkbWm+sfBQLVLkelUBdeAsijbuVfaUgCEAywV5cczFy2b1nHQsmmTmwnO2RrmwEgebg26zsz7yh1lvy7sa0vs7Tt274dbzvPa1ruHkx+tudLp+3E0X7FKwkebdtu80uUnsjc7v2rtJzGvlzdWgZCwn+dRVvAHlu7ut1bvBw1v8HSRzzvlLfO9qMdbxq7MNC7Cw0tOyHLx-IcjHA49Lunbsu-bvLwSKwKd5be4zOO9L6HvSd1Ds2gNrzaUHKtuYbu+2e1MAe8xEdB9Vaz0vRTCyCduqbYJ-OuP7NJ2vtdLAO49sAetp3VoOnVWlBy51cJwFAen1Du3VCLXg-Nu094ByfDsIUBxXJeLhR74uXr7KwEut7Pa2-NmTVe3ytWTNB-jt0HA1AwcknomywftHDR031M7je68dKrcpxzsKnTW2r3JHEw6qdb9nW8ouSHeWyF06nzOy0febox-se8nqhwxMhbQpxYMPbR009vhbdlEyc77TG811JnYy+cPen6Z76dLDs5-Pumnk2+aczb923Nvrr0wIsB3n953ed6bwVBuclbu5yg4pnB5zJuEl5ejmfJ6ZIyXuZ94S+Qf8wpZ0+vEF3ezQ78HHw5nAYxb8UMdJlM+Re0U1k55xVLVox1+jnjcMMt0kgmESefjbC+0Fu7p024YsJNKhwRdpFZ9TlCpupwEwhOSxhzPU8N8wPu1ASGODVOh74yPEfW73Jzftz7+F2eeEX+i4KehnpFxScXbFF3o3jwWCLRd0eRA0xcHtWvS13qbF+7Wvh7hJSWG-n3hXIm-mLLWH6x1uYFwq9WIDuFnWoDmWXi0QArVJ3J6eF3fsEXD+8ADik6l2bS7NqMCdPiquNrl0ykdcIvhrg1gDJbeXIa15XGTF4lyD1OSqg-jPAyAHa4P4gVruUB2vGcBbJAwdVP5QUHAG-sP7rgiZyBgI6I5cGi9KKSoBXxAPUaSgwIH3O8dtuqWI6wOqhZeOZsEOfmIqcV+XiPjbMOcKaQmCDlc6wKa360BtcV3ubLYVQXngYg30nR7wMnje1f9AiW3-v+NI6IEdcga2G90LM7igW2m+KwNkhlIAEOgDAgkHAzIzInEMrwLXdUgW1zMXSjxB-u2TmyfCLHJzVtgHLpdgD1horXTMI7t12rhYK31bBCYWSVWIMcR1LOfhVhAjTs1AdD3WotYFsOyEpIH7fVIdQ78BzDtg3FU9BclnQF9UcVnVB2ztdnZR5zuCHzW8IeArbW1nCeEAGOqfdbmR8Lvj7ou-pB4eRR8zNvDiNSYpHmUanOZJg36BvqyFfxnKDDECDazJA1uGvjTAmoFuSeBnSl-PO-XALfopls1EELeYtgLTvqm6MuiiTd9LA3jdoA6a8md3927Q-uYI4tyY00cZLeCK3Xf15Lei3511VuXXVu80XX7Rp7fsmn9E4Le63wt7s1IdVIG5fW2RMLKTeXsJG-szX9F++cKwRh1SdlJNtxLcCa+V+0ByERVxQAlXo60Afsn7F5yeJNhJYOkaX-55svw3NR8BckHd65Wc8Hv4gOt5lAhyMN9nSp7qsqn+q3irJWu5Rkej7xNzId83xp+CcYLhA0vGA7IA7NOBmeR7mex7AFygMHLXa8Ttd3yN13uo3kF4Ou9n8g-2dArWcJfFi9X8hIc1Lo83UvjzfDg8WtcU3AHu9cwofQuiXtlwyd13as6e1r3R4-w6-2mJ4Ju9c+4evf83pG0cePHp7aff73D2MPelLBdykfMREtKxGKQc1R45E3Wp-PfkWmTcXzyQ04UM7giN7Gaq2YmxDQDLsUVEZm2UOgB8JO0VMVvo12ygHPigkWng4YoYlfvjDnj1K082XIjkkG4LjxAM5gksmYL0RfSnqG0C6w68OYDmEcnVvwOEGhct68lr4CiVdOopMVElmIQ9xJMPH+OqX0Vv-kNHcPLDwQGqMzoJrZUPUVKaSQt4AsTk0Je65kXxQCd+3dJ3LZxafcrle73e1H1B5suQGpUWQ6kkKwBp17AhwMcCOuOwIfyUDf+DjTInEJJJBdKJ1ADisQ7D+PdOgEj28T8zoIx0d2TDe4wfQbTj3TvNnNZ+wcDUqdwqsgAfj1WdrMoDOUd0HOxyE+djjj9+vqrDO52P1nxUwk9aPKq5HoB8Bj95BUkJj4JAhKuj1EpYbljyIjqI+MHMaOPTj0uwnUiYBtK47ST5AbZPhj3k+iApjwX1FPAc4SvwjKkFE-JBzT7k-GPbTwU8wUnT+H3gBgY5e4knfj+FDDVPy1zuY3IGq1tF3PnVJnjC0mVFAE3I+7PfSH89-1vk3DcPxZvmvV4ljdCUa+be8XNl-xetLlAhX7Ex53R62e3wKLI2owMVgZkCKmV13z77Ru--vbn-FONxvPDIB8-98pW7-v+7yDrIIn76MwA8d0+D7r6EPlqFo5SApD4cUXX0d1ddcX-NQGc13QZxf13PlyQ8-dZ73SbuwIgR6WuG7h+7rtYi8aAC9mLK0OS8H7fu8bsQvJDkHswvErrmMIvLmEi8ovUp8bcynmZ-xat3f54g6KnWN8s+iHVEvCrbX1hIHxsWZYDuY3y8V54Tdojcq2CGRk63PfMS8zxjf534r7zuSvFZctC3+DWMaDnR6xLYh1D9mSQr1AygLMDIQswPMztAK4MgRKvR4PK8-wRoNYByG456zD33-y-q-KnhrwrA7uWNRYD+AFJIDNFgxIHkVRvFsPsiVQ7bShhyASD8yXk0fDabdN3dKIyXCvkUx3dcrVRz3ekH1exE+ZPyT149dHYT4k+JjxB3QNxPPk+E+Z3bvb3v+vMi4G+F3wb1nBMO5dzs9ZH8953N3chNbqcs7MzzOeOcjDwqWABvDya6Zw1T7nAUAG4dgw8np51bdEX6h5OP1jWbcjLp6spE8-NdZ3eRfbv8eiDTYrmY-u9y3pTstPaunUYI-Tvk7VW8JYldVsJLvPFwcdBngl6o+snvh8ZY7vStwxdunB79c8ElhJYeGKPRB9E8drCN0W-p3fd028fD6N3ncj3j9wOfF3YPls+jnU6+Iubd17xS63vunMa73vc7xHCHhL7xc9vvAt2u9P7l59HctXaMOJcV6Y+iyC0QXKIswjy0fjeewUil3FUHSI6EsUWHaMOUWrFxxX7Z0vQR5M0rcTIBkme3JCl4faNJxcKdOrR7zQDz6zH7c9sf25Rx+zAXH-LvAfQO7L1FJYHwKtlHDO6WchPoF5ZNwf2d+1BivSzwa-edWcCsD2ADwAF09vEN5Xf9v-p6Cc4vFHxeehb+4GfC23mrWLcGfgXwipa2RSX+9e36u7R9wtg19eGIthLaE0ot4TdeHC3vjQKBTXdCPF8Et+EES3hNpLTfLktibklvn76Lybcg9+6+BqPh910suA3kN430PWW8Am2w7Sm+DelPtSotAjBogi5gfC+yK63Io6hfHOx9b3LUnQ8sil8VXcLUcJIyPpSW-VtleJ8N+nctSSFE4fQQV9x5BvUX3hOloXb+ITfy0aEEWlOWMF1Lfu2L29H2ClbAczHEVggeJth-PDvi56e2geX+WezSDo7OB1jv4HOO+B8mfUH+o-FvGd0lFWfKva2-Dr2Nys9ZwzzcDpncrn2OfQrk88u98Xq7x++u7r+-J+pFG99c++39H5XqbAUEKJCRfMnwB9kt2n+d08tzQAE3fcoX6LfutRIZT8B3BsAWtWE5P-YOsIAV37DeHx0qVFlPvLTeB5IAV2wQc-xBZS1owV3KF+i-Ad9G1-UKbZMDqQMFmm3zd20ldwJf7l0z-8KLP+wDjIJP5vewtcjcs1bFjEm5hn5OrNIQSDTIBz7mXyMjNPpkbumvi4GeEf0CzAzF2td1AO2nj9w4wKDz7xgQn2816N+OKVuKfM+lb-NANv7UB2-RyWj-XXen8KAfhNXwysnrTKy8NrLLMxNxH3Cx4tyxBY358UmlI0TmIHfBsCJI5Bs0b4EFBHFS0mZwM3-Fhv1cNyo+mfiNxo9gXln3wdD3Cz3q+2fQb-Z-YxCueqAw-mH3cVYvXnxbdsXLSXrci3KDCNyhfm29LeK6PEJ9IjciLbUOP95xfUTkI8-6mcW7-L2lsbd2D7DAARsf+k1ULqf4t+DJ53Fq6cPzxSxw9RfJb+5FBTxcA0GufgaX+2EjpdiUbd1f4E8Kdv3+Wf1-Fn4D9N-OdzZ8iHDv7y5Q9TofGe5ufL+7avbi5kfOc4EXKNSYyIhQIyUYLFzPKpW7UjrwgcjrYyQVoYvTN7b-AmCKPA-75cNP5vcE-5z0M-6VRRUrX-Qo53-fIKCBHRwaDCv5MuOr5-HUeSOFeNoJtMJj3fFQpEqROQiCUfJtqb9TANHXj2dVnRcgRwI7+NgJNfK6ytfWSKyWBZRJgJOxlgNgrFiZoSbUTBjLcJrxtgdJSXfGBYrGG74g3KJScApMCPfVEIvfbA6qZPA5n+L75GfNtY1-T-5hLGo4N-X-7ynZv66vJD7tvJ+4tIVRoG-F5qRVHv5avXEQaLV94wAzH61TKlDWQbQHmyED6wRPf4x7AgHGcIgG2RDECZ-cd7Z-fKJTffP43-CqJFNPgLF-WgGJA8v6hRKv7CAp-SNfNgGK2DgGp7Up7cAzqiOtHr78AuDrCuOlBMAq75-UUQGpBcQEZBSQE8LaQF+6ZuTIuRQFVyZV4qA9UBqAgbgaAkSATSCIGY2a77Q3O76VA1grGA5HYYHAiRvfcwEJXSwFF7Bp4crd-5p3Qnbd3P74wfTR4o3LO5--az4g-fvYofBWB5NLfSwwSH4aNUAEQrM74QAgIGefKqbn3Pk7C1YojhAl-Yx2KP6wwVCIxA-I5xA5e5H-J8y9+ZIGrfEoITEU3ibfSgFkA7IE+BNQIl-HRxk8Z-77xIoHHfEoGsA9NpsoCoHIHKoFSMGoHctJ1rAQWsTnIYBrNAnQGGKNoFb+NIIuBLoGGyHoFo6PoEKA7BSDA5QHITEYG3EcYFaAn4FUgmYEwUW74GA+YFGA1A4mA5YGvfXPZrAwvbPXLYHFnWwEp3Ov7-fWD5OA7s4uAxD4P3dwGXArOD+ACXp3A3wHT3R4HgAvmRw-ZYZBAld61DS+7fA1XYxwMmK9+IvAlFUkoGzJDbtTIBbXHeuRHCPAys0XAEoZXWC5vRO7bA0vaQfRUHQfPYEqgiRbOA--7nA0e443HC6-gZpCY0WoTsKQ0GavXZ6QA-v5vA7z7ZbOFY-wIP44AEP4wAMP77JNAjhwKS4SgGAAyXF6pyXFi7L1MXzRzIT6fQcOC+UAUCVggA4ewCazhwKO5xHUA6x3P4HS8Qz7QXfF51CaiisjZPJl7UZIZ5TPLk+CKom3DAgWhGaw1oGUh1Ax5L7JTnoqgEwC0KcYq-ZYMHjxPLJbTIHI7g32J7g+uZCpRf5LTKMAIQT9qbgn0TAAKzZ9xDyZnLLrJ6CabJBPO6KDZQd4OcUIQPg+g75JSwSG9F8GNHObIgAVwQvRDwRkcSHppCY-rDZbF6D-T2ZngvZ6k3R4pZAiYhCldODRdS0q1heCHpgjLYwQy56W3bwq2MBAE4yJAHtdLCHciGGQYAkJpYA8r71rLN782XHyMiF1Z9oC0A+AbwpwFPGDmYS+hD0IaSYXasQEvHFy8Ed5iLgFiE-0YSFdKXPDlPCmCwweoDlwDDKIqO0B2RYkDwqVYFzmEjLsEQHRcEGKgY5K6JgxLpQTggIQ05eNLMQ8SFRqNuzF4RoJ1uGawMteViwwLZAcgZuTECTVjRZOhATIU6h22MB40gWAiKgYvDGXctTrwaUDsAHGAzmJ+S2MQkCjUehDEgF4QjBEDjAEJTJ7iOqSLlYCCkFCkwt2RFSmBXuRR0ayjmAKzLNiewitibSG1xXSE+AdPKLcOrJUAzDjcPInKPXQzIonEmjasMp5YyP0aMENKB+AHCBWQgqEcJIqElQ3rgtZcqETESqG0uP5zVQyXLUSJaBE0ZUK9WeCS-kZqEm-NqGV2MKz3wQR6YdQFwEQQR7EdHjrOoCh4hIFx40POeB0PQyAMPAR6TvPAK8PNh4cPQR6JTLAJHQjPAnQ-D4Nech5iPHaGSPC8CQVGkYRgQirylG6ErRS3gSCKZ5n-PD7psVh7pPWhBNVQqEsQ7qEoiBEQpAp4oAw53gEfNAhEfUlp4gPzCOQx0DcgBgHGQnwCzg0XqWjWmCF2czAjSKmBjSOyCK4EgTeYbuzexLqG18azi9QiioXQmKJuAZGGUoVGGwAKGGQg1RDHQxAi8PXCD8PGGGcw5h6nQ5gAPQyh5PQ2h7SPLPJiQrGHZHd6HZQcoT8wu65pROuqkpemGKwnQR3cZWHywukZoEIbKkoVXwqwxDS2RAfRQpfWGoINAinpIk42+MGF6Q6mGLcFrKFdG96aw7mG8wnVyww2EqaBER5bQ8R67QqR7teWVgUwuWFfQ5h4SRM2HVaEKYKxTqHgwm2G9cOrKRTUR4iw6h7PQ-aHGAQ6GQle6i6lO6FnQyui3iHUrIlIDrv8T3wZ8ZbyqldRgZw4WHbQhOFiw7ACloXRhLQljooiMi78XYuEi1cGLmYWPAkQCwANQUQBuQW4C6dOqDXAXyDAgVjBfCJuF5wvlC62ciCSoTd6aQE076QKWgjwtI7kEeITtg3+qEQvAi34e-B9UZ-A4AxCH6kTWHBwzOCFgZObhwoRJUwpvK2w4WKx7OOHlw1x57Q3TLtMFOE6uJuGnQ4GGaweeHIdLvBMOOJhXQ1OE5wtUqlwq+FewxOGvQmuGaw9aGZwLaSNgpWBvw5DwfwpeEl8XjqnQNeF34B-DmQZ-AOQUageWbCy9yTORwwdKHqZGL45g8j6oLJuFKAFuFKtCOAkQAEBrATYArAD4BngPuEDwoeEO9aBF2Ud-jjwyeGnFTWAAI0WG3w1BwHQmRgTvQOE8PDOEvw+2G4fR2F3QnmHfwl2ESIwGHCPMuGAIyuG6MbhEVw3hEcMB+GdRJ+EiIh966MIuFpw5EpOw6RGaI-RF-wuRHuwhRE8In2HADfrYBwtNx4BfeExBc2F0IMcEnwyOFnwnqEeJNaFcdEjoTWFiTXQuxFcwyRHOwh2FCIoR7mIlRE3wqxG8RGxEmwtaRoECfAvOFxHKJU+HO+NAi9Q9mHilLvCzFCoJiIiZyuwws5SIxWKCIgJECwjOFCwiJHewl6G+w2VhJI4ShuI1JGZwMqGYwn+i1w3bqX9OAFoxImIxQrPBgzN6JdQ555V3Nso6Q+pE0wpjiSwkjrWlOGTS8cErnCPpHgwgZHjzDrqgIrjocnLD7NI4G5ENc6R4yTGGxKR0YtSYvCPYDEBPyUYFqifYRvlftAJQrOzbETGg70b+gcgdiEmARFRcQ4RjJQMIqzDDoRx1NzCHEaMp3ZVxHWw1LLaCZ8FemOZH-InZJqw-hyfg02JWw4qHVJDuL-g4FHDI-5GuJECFubZPDjIrJ7fifGDgPaSF2yJIDZAZ5YRLc3hoEER5FQ5RFFQz8YmYZUhriXGjgwXLr4o4DaEo4lE7IrhHkorJ55QHTzUoxmA1gPFFdqBlEKwIlGAyZlEkUESFZPd3DxgGlHcolUwRZMhyLeQ-iSwslEio-p5iozlE4o4sA8o6VG8zWVFRKeVEsoxVFNPXjhLsVVF0o3lESzCJZaoklEsQhVEP5DFF3CbFG0onlEEo-lFMonVHCo61H9PWAinEFVH2oqXp8orOACouVGko3VFuopp7so0miGo71HmYX1H92Z1GBo11Er4UVHIKO1GSoyNGmohWDmooVH3wdFFKouqReo5NEd2VNFZwdNEuozNGsopVGQccNF5ox1GFomNGWok5LrI-p6Yo3ZSMwMhwyebVGBogiBZopp4eo74huVGlEtowVHFo+tEhoj-peo-tEBo2tEdo0tH6oxNF9ozVEDo2NElovVEMBBgg5o3tHNoudHjorpQiYTtHLog1F2omVHzo2tFxoilG3NdVFVotOZtoidFDo5dHGojVERLXrgWordFBo+NH9PU9E+ogtEXox9GsQjog7oxvoKwY1Hnoh9EZo6UAXESBSIqTC7n4fqTD0B2A4sUwA4AByAwY4URwYhyCwYvIAoYpDEOUe54CQuWF+sXCromfRTQ4RsGIY3DHgYdwIKwYjHsAZpBkYiH4YY0jF62BWCoY+LCYsfUA8IFDC7wkjHVsBizyQHDGUYi1yoVX+p+wC+g94KUxqQOUSoPHTyLAQqqtBIMSMYiEjDgn+R6wrDEjEP5BIAcTA4Y4cGO+fzwYxSiDqYkYSO+KCpfoYgBe0T+QOQRHZIYBbI8ZckFlwbMybyFYTqFGRiSw+3y0Y5VzRQZiCcwT0yBIMRBnge0bb8KfiOYnjFwYlzFX8EyAi1fPYkVM4i+YhSjgwp6wBzELF7eBIZG+RjFBY7ZQaqWOJ4ECcrTlftYhY8wHhYheBnlAfgRsbLHvCdvCYVfdrRAPgASQ9nguZRRYSEKcAvEMqyvWGygEteZiJCQrFNkBwZd4TCrtlRzG5lcx5xY28YUABLEeoJLGtBYgpDuFJS7ldLH4HTLGK9ELEdYkrH4HMir9lLzHzY3LH5-BgDlYyrGy4GkC2yIaSdOerGKEZSBYgYUAtY+fpzYxUDZnCcoG+NrGhY3A65Y2RReYrPyEQokTnY7yoLYp+AdENcq7lL5jQUOb6DvfNhFYsLFXY13ivYy7HblB7EhYp7HwAl7FhTIHH4VVcrblFzE6Oa6w4CLDwAAsH6dvBqjrA7MgAdNt4Q3cZEm9ZCo7lFVz2JLrZv1ShxfY6VwkjKdJk4+dKPYxHFSMSLF1IvSFE4lzGxYpshQ446jVw0kQhYvOHPY+h4OYrqGvzG7F7eGIhE1D1DyomIAm+ZzGDwOAhQzTOBDAcMBIpALG4VIcolgxjHYjY2HOYtXEtIWTHCxFXEjEWXEfTbjqZwc3ibIMXzHor+HQojQQ3YvnGYyauG62T6AXCVvb+YrzF2446js47zEDYlxhu4heHn8ZPQkOTq5prdGas41oK8qRFHFQm7Gc4goCloT3FZ+Zag+4yHGI42xg1ZAiaU4hZiycB3pJYo3ESIDdaZ1CPFx4hnGdQbnHlAVsqRcKoKl43szXov9FdvTsBkOUKCHop9FGYNMAvyQGz7JOq6A6NUAqAFMj5oi-C2VNKyLo4NHLotzAhKb9w-uAtQ6oydFLomvHgwUfHtRCfELokDHmjKBRvIhqQ0gKDFDSfZDAlMdwCgDiFPIwaRv+I7LW42FGxCeFHPHQXHRYwNhT0A05sQmkDUQP6rgYZpAPIziEH4+zEUHbvCX4p9DDbUjw6vDUEBvNv4dvDv4GZcuC3Aj5CcQc-CDzW4T4wZcT-4tvoE4km7V4sYz42TdHfoqfFD4mvFvQQUGXopvFT2I4akw1xSn0OUANyZQiW4-p6PnKg5fo7dFTo5dGHLSgkgxPAnuVT0YmAYSDDUW+ix+fCCHCSjLC4yfFmjcwCdNOqwS+H0Tb4iGC74x5EMEA-EOQQogMOJJQsgBmA4wE5FbIc-B8AN-EgXISFC423rf4u9rxUem6lWYsQ12ehDn4E5CcicQid+ANxJ0bED0IdTJ+vFv5uAgAkeAhWCVXAwnCFAqiMEPHFwE8lE8RfrazYCPAS+MKD4QZwS53UabIfMe47YcmIn4HuRuEsFjwEwZFlCLNE+EoPxo4S7wKwJ3HxE5CBsYXWzTQD7oS+CBhJEw-DjdbIkUQXWz+efIkJEjGK5EmgJZEhImFEzipbeP7EH3SmFuIybJn4tMrE7HrEaE2DY343-FBErUEhExwnnIDkSwQVwmpgj-EP5Twm88G9jJWLZwFkXdjT4QeZ8oDgQ0gKKj94zajrwlBFP4JAAt+HKSiIWYCiuQMTimWUGBjZnEwo38FwojQbeFXXp65BeEiE38B-YZpDTEt9g9yJ4S0KU6B0WXTi5Irh6yIuGHdOBGFhoQsDLMVgrPEkmAzEr+R9yBoFYEWQk2AQkC7E7mRn-LRFmImd7pPcOAu4rqHdY9Qk98WPGoky-Hm5MXEaFNok98GrLWI0dgTEvURpdVkpECL-BWoazzHXCfzAFBCAswvmCmYzqAOQJJSa4KIogo44lPgnrKRTYpEGuO94-Ex96ZgUdpZoj1oLxTxw7AzGEAorXoFlUhKV7Nol1ZKXaBEv5Z44wAEb9Ponn4AYnn+SIlqEkSEtlQ4kSk7ZLvgiFGkud4kcw0JF8k2d5hoH6RCk0tGsQCmFikoMHJI8GFaCKUmYE9sblnOUmaEgfjo4iV4d-NUnOE4wlnsLUnzcDwmLDO8ENEpFEuCBbIvOE0n5IrpwIkh957YCfDWkxVHzZTtCQIhnaOY5wQukuC7uk9Qnyk9C7ekuz6qk-Qn9ElwniEIMkjElfAtlH+6gYi0bKQbUomjLgoruWqGdNHYjJub+gfIhdhiuUsxkceVGQQwVK45fxG8ku6HxkxGGccZMluo20lQQt0n2AysmikfMkGnRUlCHOwnag79Alk9UllkwMnDE6Inf3ayHJuUBiBWY-AglAqjAAwhTP5ZB5r4pmBsOBACHKIVx2lDYQBQ3PZmYhfACZETKwQC37EbWTJ96ChpCff7CHKEZTUWcCB8FXGi1UbAAjAEYCqyDqF-I44nIoqMkJ+QUpmlNCHTfAKqnJHeiFVQKxWPYArpQtzCfZdgqiIehRb4vdg-IpmKYwgITXZc7KSwsilnBV6BycGB4yIAoCvmUEmfjJx7KMOIDBIlUomIkuFmIuJYaIjim-wrilfEzOHPrYUmEIz8iXgBkCG2NQCSFSh68wNUCJMShHUI2hH0Ig4D9w1pxMIj7qyqaSmMUzOTsI4go1OACw7fBeKkUp7IkAF7K8pIqEApZ7IUEV7Jsw7QhSU9qjaU26jMUhWxsUoxF8U+IphInikCIoaJwkwSnAwqyYiUvaRiUgzKSU+ikyUo6hesOuDtwzuHdw3uEqUxhGSeN7aaUhymGSXSlUTYvwGUn+4AuQAj9A7BSHKP9DKZHGocRZfHgY1fEsDTGE+8EYDm8aYD1zIAA)

```php
<?php

/* PARSER SCRIPT FOR TAGUI FRAMEWORK ~ TEBEL.ORG */

// Q1. Why is formatting for this file so messed up? - it's created on the road
// If you want to know more - https://github.com/kelaberetiv/TagUI/issues/490

// Q2. Is there a beautified version for easier viewing or editing? - yes snapshot below
// https://github.com/kelaberetiv/TagUI/blob/master/src/media/snapshots/tagui_parse.md

// check flow filename for .tagui or .js or .txt or no extension
$script = $argv[1];
if ($script == "") {
    die("ERROR - specify flow filename as first parameter\n");
}
if (strpos(pathinfo($script, PATHINFO_BASENAME), '.') !== false) {
    if (
        pathinfo($script, PATHINFO_EXTENSION) != "gui" and
        pathinfo($script, PATHINFO_EXTENSION) != "txt" and
        pathinfo($script, PATHINFO_EXTENSION) != "js" and
        pathinfo($script, PATHINFO_EXTENSION) != "tagui"
    ) {
        // check if file has extension
        die("ERROR - use .tagui .js .txt or no extension for flow filename\n");
    }
}

// make sure required files are available and can be opened
if (!file_exists($script)) {
    die("ERROR - cannot find " . $script . "\n");
}
($input_file = fopen($script, 'r')) or
    die("ERROR - cannot open " . $script . "\n");
($output_file = fopen($script . '.js', 'w')) or
    die("ERROR - cannot open " . $script . '.js' . "\n");
($config_file = fopen('tagui_config.txt', 'r')) or
    die("ERROR - cannot open tagui_config.txt" . "\n");
($header_file = fopen('tagui_header.js', 'r')) or
    die("ERROR - cannot open tagui_header.js" . "\n");
($footer_file = fopen('tagui_footer.js', 'r')) or
    die("ERROR - cannot open tagui_footer.js" . "\n");

$repo_count = 0;
if (file_exists(getenv('custom_csv_file'))) {
    // load datatable or legacy datatable / repository
    ($repo_file = fopen(getenv('custom_csv_file'), 'r')) or
        die("ERROR - cannot open " . getenv('custom_csv_file') . "\n");
    while (!feof($repo_file)) {
        $repo_data[$repo_count] = fgetcsv($repo_file);
        if (@count($repo_data[$repo_count]) == 0) {
            die(
                "ERROR - empty row found in " . getenv('custom_csv_file') . "\n"
            );
        }
        $repo_count++;
    }
    fclose($repo_file);
    $repo_count -= 1; //-1 for header, for EOF need to check flexibly using below line
    if (@count($repo_data[$repo_count]) == 1) {
        $repo_count -= 1;
    }
} //-1 for EOF (Windows files don't end with newline character)

$local_repo_location =
    str_replace("\\", "/", dirname($script)) . '/tagui_local.csv';
if (file_exists($local_repo_location)) {
    // load local repository file if it exists for objects and keywords
    ($local_repo_file = fopen($local_repo_location, 'r')) or
        die("ERROR - cannot open " . 'tagui_local.csv' . "\n");
    if ($repo_count != 0) {
        $repo_count++;
    }
    fgetcsv($local_repo_file); // +1 if array has data, discard header record
    while (!feof($local_repo_file)) {
        $repo_data[$repo_count] = fgetcsv($local_repo_file);
        if (@count($repo_data[$repo_count]) == 0) {
            die("ERROR - empty row found in " . 'tagui_local.csv' . "\n");
        }
        if (@count($repo_data[$repo_count]) != 1) {
            // pad the empty columns when local repository is used with datatable
            $repo_data[$repo_count] = array_pad(
                $repo_data[$repo_count],
                @count($repo_data[0]),
                $repo_data[$repo_count][1]
            );
        }
        $repo_count++;
    }
    fclose($local_repo_file);
    $repo_count -= 1;
    if (@count($repo_data[$repo_count]) == 1) {
        $repo_count -= 1;
    }
}

if (file_exists('tagui_global.csv')) {
    // load global repository file if it exists for objects and keywords
    ($global_repo_file = fopen('tagui_global.csv', 'r')) or
        die("ERROR - cannot open " . 'tagui_global.csv' . "\n");
    if ($repo_count != 0) {
        $repo_count++;
    }
    fgetcsv($global_repo_file); // +1 if array has data, discard header record
    while (!feof($global_repo_file)) {
        $repo_data[$repo_count] = fgetcsv($global_repo_file);
        if (@count($repo_data[$repo_count]) == 0) {
            die("ERROR - empty row found in " . 'tagui_global.csv' . "\n");
        }
        if (@count($repo_data[$repo_count]) != 1) {
            // pad the empty columns when global repository is used with datatable
            $repo_data[$repo_count] = array_pad(
                $repo_data[$repo_count],
                @count($repo_data[0]),
                $repo_data[$repo_count][1]
            );
        }
        $repo_count++;
    }
    fclose($global_repo_file);
    $repo_count -= 1;
    if (@count($repo_data[$repo_count]) == 1) {
        $repo_count -= 1;
    }
}

$tagui_web_browser = "this"; // set the web browser to be used base on tagui_web_browser environment variable
if (
    getenv('tagui_web_browser') == 'headless' or
    getenv('tagui_web_browser') == 'chrome'
) {
    $tagui_web_browser = 'chrome';
}

$inside_code_block = 0; // track if step or code is inside user-defined code block
$inside_while_loop = 0; // track if step is in while loop and avoid async wait
$for_loop_tracker = ""; // track for loop to implement IIFE pattern
$code_block_tracker = ""; // track code blocks defined in flow
$integration_block_body = ""; // track body of integration block
$line_number = 0; // track flow line number for error message
$real_line_number = 0; // line number excluding comments and blank lines
$test_automation = 0; // to determine casperjs script structure
$url_provided = false; // to detect if url is provided in user-script

// track begin-finish blocks for integrations eg - py, r, run, vision, js, dom
$inside_py_block = 0;
$inside_r_block = 0;
$inside_run_block = 0;
$inside_vision_block = 0;
$inside_js_block = 0;
$inside_dom_block = 0;

// series of loops to create casperjs script from header, user flow, footer files

// create header of casperjs script using tagui config and header template
fwrite(
    $output_file,
    "/* OUTPUT CASPERJS SCRIPT FOR TAGUI FRAMEWORK ~ TEBEL.ORG */\n\n"
);
fwrite($output_file, "var casper = require('casper').create();\n"); // opening lines
while (!feof($config_file)) {
    fwrite($output_file, fgets($config_file));
}
fclose($config_file);
while (!feof($header_file)) {
    fwrite($output_file, fgets($header_file));
}
fclose($header_file);

// append global functions file created by user if the file exists
if (file_exists('tagui_global.js')) {
    ($global_functions_file = fopen('tagui_global.js', 'r')) or
        die("ERROR - cannot open tagui_global.js" . "\n");
    while (!feof($global_functions_file)) {
        fwrite($output_file, fgets($global_functions_file));
    }
    fwrite($output_file, "\n");
    fclose($global_functions_file);
}

// append local functions file created by user if the file exists
$local_functions_location =
    str_replace("\\", "/", dirname($script)) . '/tagui_local.js';
if (file_exists($local_functions_location)) {
    ($local_functions_file = fopen($local_functions_location, 'r')) or
        die("ERROR - cannot open tagui_local.js" . "\n");
    while (!feof($local_functions_file)) {
        fwrite($output_file, fgets($local_functions_file));
    }
    fwrite($output_file, "\n");
    fclose($local_functions_file);
}

// append comment on flow path variable in casperjs script
fwrite($output_file, "// flow path for save_text and snap_image\n");

// save flow path in casperjs script to be used by save_text and snap_image
// casperjs/phantomjs do not seem to support \ for windows paths, replace with / to work
// below marker for appending url_intent when flow file does not start with comments or url
$marker_for_opening_url =
    "var flow_path = '" . str_replace("\\", "/", dirname($script)) . "';\n\n";
fwrite($output_file, $marker_for_opening_url);

// section to handle calling of other TagUI automation scripts for reusability
($temp_output_file = fopen($script . '.raw', 'w')) or
    die("ERROR - cannot open " . $script . '.raw' . "\n");
while (!feof($input_file)) {
    fwrite($temp_output_file, expand_intent(fgets($input_file)));
}
fclose($input_file);
fclose($temp_output_file); // generate temp output file of expanded intents (if any) before reopening as input
($input_file = fopen($script . '.raw', 'r')) or
    die("ERROR - cannot open " . $script . '.raw' . "\n");

if (
    strpos(
        strtolower(file_get_contents('tagui_config.txt')),
        "var tagui_language = 'english';"
    ) == false
) {
    // section which includes translation engine for handling flows in other languages
    $temp_argv1 = $argv[1];
    $temp_argv2 = $argv[2];
    $temp_argv3 = $argv[3];
    $argv[1] = 'tagui_parse.php';
    $argv[2] = 'from';
    $temp_tagui_config = strtolower(file_get_contents('tagui_config.txt'));
    $temp_tagui_config_start = strpos($temp_tagui_config, 'var tagui_language');
    $temp_tagui_config_end = strpos(
        $temp_tagui_config,
        "\n",
        $temp_tagui_config_start
    );
    $temp_tagui_config = substr(
        $temp_tagui_config,
        $temp_tagui_config_start,
        $temp_tagui_config_end - $temp_tagui_config_start
    );
    $temp_tagui_config = str_replace(
        'var tagui_language',
        '',
        $temp_tagui_config
    );
    $temp_tagui_config = str_replace('"', '', $temp_tagui_config);
    $temp_tagui_config = str_replace("'", '', $temp_tagui_config);
    $temp_tagui_config = str_replace('=', '', $temp_tagui_config);
    $temp_tagui_config = str_replace(';', '', $temp_tagui_config);
    $argv[3] = trim($temp_tagui_config);
    require 'translate.php'; // set parameters to load translation engine
    $argv[1] = $temp_argv1;
    $argv[2] = $temp_argv2;
    $argv[3] = $temp_argv3;
    $translated_raw_flow = "";
    while (!feof($input_file)) {
        $translated_raw_flow .= translate_intent(fgets($input_file));
    }
    fclose($input_file);
    file_put_contents($script . '.raw', $translated_raw_flow); // save translated output before reopening as input
    ($input_file = fopen($script . '.raw', 'r')) or
        die("ERROR - cannot open " . $script . '.raw' . "\n");
}

// section to do required pre-processing on expanded .raw flow file
$padded_raw_flow = "";
$previous_line_is_condition = false;
$reference_indentation = "";
while (!feof($input_file)) {
    $padded_raw_flow_line = fgets($input_file);
    $indentation_tracker = str_replace(
        ltrim($padded_raw_flow_line),
        '',
        $padded_raw_flow_line
    );
    $indentation_tracker = substr(
        $indentation_tracker,
        strlen($reference_indentation)
    );
    // above line handles py and vision blocks that begin indented (eg in if or loops)
    $padded_raw_flow_line = ltrim($padded_raw_flow_line);

    // track whether line is inside integrations begin-finish code blocks
    if (strtolower(trim($padded_raw_flow_line)) == "js begin") {
        $inside_js_block = 1;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "js finish") {
        $inside_js_block = 0;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "py begin") {
        $inside_py_block = 1;
        $reference_indentation = $indentation_tracker;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "py finish") {
        $inside_py_block = 0;
        $reference_indentation = "";
    }
    // reset reference indentation
    elseif (strtolower(trim($padded_raw_flow_line)) == "r begin") {
        $inside_r_block = 1;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "r finish") {
        $inside_r_block = 0;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "dom begin") {
        $inside_dom_block = 1;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "dom finish") {
        $inside_dom_block = 0;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "run begin") {
        $inside_run_block = 1;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "run finish") {
        $inside_run_block = 0;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "vision begin") {
        $inside_vision_block = 1;
        $reference_indentation = $indentation_tracker;
    } elseif (strtolower(trim($padded_raw_flow_line)) == "vision finish") {
        $inside_vision_block = 0;
        $reference_indentation = "";
    } // reset reference indentation

    // auto-padding not relevant in integrations code blocks
    if (
        $inside_js_block +
            $inside_py_block +
            $inside_r_block +
            $inside_dom_block +
            $inside_run_block +
            $inside_vision_block >
        0
    ) {
        $padded_raw_flow .= $indentation_tracker . $padded_raw_flow_line;
        continue;
    }

    // rewrite JS function definitions to work in scope within CasperJS blocks
    if (
        substr($padded_raw_flow_line, 0, 9) == "function " or
        substr($padded_raw_flow_line, 0, 12) == "js function "
    ) {
        if (strpos($padded_raw_flow_line, "(") !== false) {
            $js_function_name_startpos =
                strpos($padded_raw_flow_line, "function ") + 9;
            $js_function_name_endpos = strpos(
                $padded_raw_flow_line,
                "(",
                $js_function_name_startpos
            );
            $padded_raw_flow_line =
                trim(
                    substr(
                        $padded_raw_flow_line,
                        $js_function_name_startpos,
                        $js_function_name_endpos - $js_function_name_startpos
                    )
                ) .
                ' = function ' .
                trim(substr($padded_raw_flow_line, $js_function_name_endpos)) .
                "\n";
        } else {
            die("ERROR - missing brackets () for " . $padded_raw_flow_line);
        }
    }
    // pad { and } blocks for conditions, to keep JavaScript syntax correct
    if (
        substr($padded_raw_flow_line, 0, 3) == "if " or
        substr($padded_raw_flow_line, 0, 8) == "else if " or
        substr($padded_raw_flow_line, 0, 4) == "for " or
        substr($padded_raw_flow_line, 0, 6) == "while " or
        substr($padded_raw_flow_line, 0, 6) == "popup " or
        substr($padded_raw_flow_line, 0, 6) == "frame " or
        trim($padded_raw_flow_line) == "else"
    ) {
        $current_line_is_condition = true;
    } else {
        $current_line_is_condition = false;
    }
    if (
        $previous_line_is_condition == true and
        $current_line_is_condition == true
    ) {
        die(
            "ERROR - for nested conditions, loops, popup, frame, set { and } explicitly\n" .
                "ERROR - add { before this line and add } accordingly - " .
                $padded_raw_flow_line
        );
    }
    if (
        $previous_line_is_condition == true and
        substr($padded_raw_flow_line, 0, 1) != "{"
    ) {
        $padded_raw_flow .= "{\n" . trim($padded_raw_flow_line) . "\n}\n";
    } else {
        $padded_raw_flow .= $padded_raw_flow_line;
    }
    $previous_line_is_condition = $current_line_is_condition; // prepare for next line
}
fclose($input_file);
file_put_contents($script . '.raw', $padded_raw_flow);
// generate temp output file with padded { and } (if any) before reopening as input
($input_file = fopen($script . '.raw', 'r')) or
    die("ERROR - cannot open " . $script . '.raw' . "\n");
// re-initialize trackers for begin-finish blocks of integrations
$inside_py_block = 0;
$inside_r_block = 0;
$inside_run_block = 0;
$inside_vision_block = 0;
$inside_js_block = 0;
$inside_dom_block = 0;

// main loop to parse intents in flow file for conversion into javascript code
while (!feof($input_file)) {
    fwrite($output_file, parse_intent(fgets($input_file)));
}
fclose($input_file);

// create footer of casperjs script using footer template and do post-processing
while (!feof($footer_file)) {
    fwrite($output_file, fgets($footer_file));
}
fclose($footer_file);
fclose($output_file);
chmod($script . '.js', 0600); // append url opening block below instead of throwing error
if (!$url_provided) {
    // echo "ERROR - first line of " . $script . " not URL or comments\n";
    $GLOBALS['real_line_number'] = 1;
    $generated_js_file_contents = file_get_contents($script . '.js');
    $generated_js_file_contents = str_replace(
        $marker_for_opening_url,
        $marker_for_opening_url . url_intent('about:blank'),
        $generated_js_file_contents
    );
    file_put_contents($script . '.js', $generated_js_file_contents);
}
if ($inside_code_block != 0) {
    echo "ERROR - number of step { does not tally with with }\n";
}

// post-processing to clean up artifacts from translating human language to JavaScript
$script_content = file_get_contents($script . '.js');
$script_content = str_replace(
    "});\n\ncasper.then(function() {else\n",
    "\nelse\n\n",
    $script_content
);
$script_content = str_replace(
    "});\n\ncasper.then(function() {else if ",
    "\nelse if ",
    $script_content
);
$script_content = str_replace(
    "}); // end of JS code\n\ncasper.then(function() { // start of JS code\n",
    "",
    $script_content
); // above collapse separate js step CasperJS blocks into one continuous block
$script_content = preg_replace(
    '/^casper\.then\(function\(\) {{(.*) \/\/ beg_tx while loop marker/m',
    '$1',
    $script_content
); // above regular expression replace lines having beg_tx while loop markers
$script_content = preg_replace(
    '/^casper\.then\(function\(\) {(.*) \/\/ end_fi while loop marker(.*)}\);/m',
    '$1$2',
    $script_content
); // above regular expression replace lines having end_fi while loop markers
$script_content = preg_replace(
    '/^casper\.then\(function\(\) {(.*)\n(.*) \/\/ end_fi while loop marker(.*)}\);/m',
    "$1\n$2$3",
    $script_content
); // above regular expression replace lines having end_fi while loop markers
file_put_contents($script . '.js', $script_content);

// special handling if chrome or headless chrome is used as browser for automation
// replacement of this.method already happens in step intents, this is mostly to handle user inserted casperjs code
if ($tagui_web_browser == 'chrome') {
    $script_content = file_get_contents($script . '.js'); // read generated script
    $script_content = str_replace(
        "var chrome_id = 0;",
        "var chrome_id = 1;",
        $script_content
    ); // websocket message id
    $script_content = str_replace(
        "casper.exists",
        "chrome.exists",
        $script_content
    ); // change locator check to chrome
    $script_content = str_replace(
        "this.exists",
        "chrome.exists",
        $script_content
    ); // change this.exists call as well
    $script_content = str_replace(
        "casper.click",
        "chrome.click",
        $script_content
    ); // change click method to chrome
    $script_content = str_replace(
        "this.click",
        "chrome.click",
        $script_content
    ); // change this.click call as well
    $script_content = str_replace(
        "casper.mouse",
        "chrome.mouse",
        $script_content
    ); // change mouse object to chrome
    $script_content = str_replace(
        "this.mouse",
        "chrome.mouse",
        $script_content
    ); // change this.mouse call as well
    $script_content = str_replace(
        "casper.sendKeys",
        "chrome.sendKeys",
        $script_content
    ); // change sendKeys method to chrome
    $script_content = str_replace(
        "this.sendKeys",
        "chrome.sendKeys",
        $script_content
    ); // change this.sendKeys call as well
    // for selectOptionByValue check for '(' in order to only overwrite calls and not the custom defined function
    $script_content = str_replace(
        "casper.selectOptionByValue(",
        "chrome.selectOptionByValue(",
        $script_content
    ); // select
    $script_content = str_replace(
        "this.selectOptionByValue(",
        "chrome.selectOptionByValue(",
        $script_content
    ); // select
    // for countElements check for '(' in order to only overwrite calls and not the custom function casper.countElements()
    $script_content = str_replace(
        "casper.countElements(",
        "chrome.countElements(",
        $script_content
    ); // count elements
    $script_content = str_replace(
        "this.countElements(",
        "chrome.countElements(",
        $script_content
    ); // count elements
    // for elementVisible check for '(' in order to only overwrite calls and not the custom function casper.elementVisible()
    $script_content = str_replace(
        "casper.elementVisible(",
        "chrome.elementVisible(",
        $script_content
    ); // check element visible
    $script_content = str_replace(
        "this.elementVisible(",
        "chrome.elementVisible(",
        $script_content
    ); // check element visible
    $script_content = str_replace(
        "casper.fetchText",
        "chrome.fetchText",
        $script_content
    ); // change fetchText method to chrome
    $script_content = str_replace(
        "this.fetchText",
        "chrome.fetchText",
        $script_content
    ); // change this.fetchText call as well
    $script_content = str_replace(
        "casper.capture",
        "chrome.capture",
        $script_content
    ); // change capture method to chrome
    $script_content = str_replace(
        "this.capture",
        "chrome.capture",
        $script_content
    ); // change this.capture call as well
    $script_content = str_replace(
        "casper.captureSelector",
        "chrome.captureSelector",
        $script_content
    ); // capture selector
    $script_content = str_replace(
        "this.captureSelector",
        "chrome.captureSelector",
        $script_content
    ); // capture selector
    $script_content = str_replace(
        "chrome.page.uploadFile",
        "chrome.upload",
        $script_content
    ); // change upload method to chrome
    $script_content = str_replace(
        "casper.page.uploadFile",
        "chrome.upload",
        $script_content
    ); // change upload method to chrome
    $script_content = str_replace(
        "this.page.uploadFile",
        "chrome.upload",
        $script_content
    ); // change this.upload call as well
    $script_content = str_replace(
        "casper.download",
        "chrome.download",
        $script_content
    ); // change download method to chrome
    $script_content = str_replace(
        "this.download",
        "chrome.download",
        $script_content
    ); // change this.download call as well
    $script_content = str_replace(
        "casper.evaluate",
        "chrome.evaluate",
        $script_content
    ); // change evaluate method to chrome
    $script_content = str_replace(
        "this.evaluate",
        "chrome.evaluate",
        $script_content
    ); // change this.evaluate call as well
    $script_content = str_replace(
        "casper.withFrame",
        "chrome.withFrame",
        $script_content
    ); // change withFrame method to chrome
    $script_content = str_replace(
        "this.withFrame",
        "chrome.withFrame",
        $script_content
    ); // change this.withFrame call as well
    $script_content = str_replace(
        "casper.waitForPopup",
        "chrome.waitForPopup",
        $script_content
    ); // change waitForPopup method
    $script_content = str_replace(
        "this.waitForPopup",
        "chrome.waitForPopup",
        $script_content
    ); // change this.waitForPopup call
    $script_content = str_replace(
        "casper.withPopup",
        "chrome.withPopup",
        $script_content
    ); // change withPopup method to chrome
    $script_content = str_replace(
        "this.withPopup",
        "chrome.withPopup",
        $script_content
    ); // change this.withPopup call as well
    $script_content = str_replace(
        "casper.getHTML",
        "chrome.getHTML",
        $script_content
    ); // change getHTML method to chrome
    $script_content = str_replace(
        "this.getHTML",
        "chrome.getHTML",
        $script_content
    ); // change this.getHTML call as well
    $script_content = str_replace(
        "casper.getTitle",
        "chrome.getTitle",
        $script_content
    ); // change getTitle method to chrome
    $script_content = str_replace(
        "this.getTitle",
        "chrome.getTitle",
        $script_content
    ); // change this.getTitle call as well
    $script_content = str_replace(
        "casper.getCurrentUrl",
        "chrome.getCurrentUrl",
        $script_content
    ); // get current url
    $script_content = str_replace(
        "this.getCurrentUrl",
        "chrome.getCurrentUrl",
        $script_content
    ); // get current url
    $script_content = str_replace(
        "casper.debugHTML",
        "chrome.debugHTML",
        $script_content
    ); // change debugHTML method to chrome
    $script_content = str_replace(
        "this.debugHTML",
        "chrome.debugHTML",
        $script_content
    ); // change this.debugHTML call as well
    $script_content = str_replace(
        "casper.reload",
        "chrome.reload",
        $script_content
    ); // change reload method to chrome
    $script_content = str_replace(
        "this.reload",
        "chrome.reload",
        $script_content
    ); // change this.reload call as well
    $script_content = str_replace(
        "casper.back",
        "chrome.back",
        $script_content
    ); // change back method to chrome
    $script_content = str_replace("this.back", "chrome.back", $script_content); // change this.back call as well
    $script_content = str_replace(
        "casper.forward",
        "chrome.forward",
        $script_content
    ); // change forward method to chrome
    $script_content = str_replace(
        "this.forward",
        "chrome.forward",
        $script_content
    ); // change this.forward call as well
    file_put_contents($script . '.js', $script_content); // below initialise chrome integration files
    if (!touch('tagui_chrome.in')) {
        die("ERROR - cannot initialise tagui_chrome.in\n");
    }
    if (!touch('tagui_chrome.out')) {
        die("ERROR - cannot initialise tagui_chrome.out\n");
    }
}

// if clipboard(), mouse_xy(), mouse_x(), mouse_y() helper functions are used, invoke sikuli visual automation
if (
    strpos($script_content, 'clipboard(') !== false or
    strpos($script_content, 'mouse_xy()') !== false or
    strpos($script_content, 'mouse_x()') !== false or
    strpos($script_content, 'mouse_y()') !== false
) {
    if (!touch('tagui.sikuli/tagui_sikuli.in')) {
        die("ERROR - cannot initialise tagui_sikuli.in\n");
    }
    if (!touch('tagui.sikuli/tagui_sikuli.out')) {
        die("ERROR - cannot initialise tagui_sikuli.out\n");
    }
}

// check quiet parameter to run flow quietly by only showing explicit output
if (getenv('tagui_quiet_mode') == 'true') {
    $script_content = file_get_contents($script . '.js'); // read generated script
    $script_content = str_replace(
        "var quiet_mode = false;",
        "var quiet_mode = true;",
        $script_content
    ); // set quiet_mode
    $script_content = str_replace(
        "casper.echo('\\nSTART - automation started - ",
        "dummy_echo('",
        $script_content
    );
    file_put_contents($script . '.js', $script_content);
}

// convert casperjs script into test script structure if test option is used
if (getenv('tagui_test_mode') == 'true') {
    $script_content = file_get_contents($script . '.js'); // read generated script
    $script_content = str_replace(
        "casper.echo('\\nSTART - automation started - ",
        "casper.echo('",
        $script_content
    ); // date
    $script_content = str_replace(
        "techo('FINISH - automation",
        "dummy_echo('FINISH - test",
        $script_content
    ); // silent
    $script_content = str_replace(
        "this.echo(",
        "test.comment(",
        $script_content
    ); // change echo to test comment
    $script_content = str_replace(
        "test.comment('ERROR",
        "test.fail('ERROR",
        $script_content
    ); // error comment to fail
    // change echo to test comment in techo to show output correctly as test comments
    $script_content = str_replace(
        "casper.echo(echo_string);",
        "casper.test.comment(echo_string);",
        $script_content
    );
    $script_content = str_replace(
        "casper.echo(translated_string);",
        "casper.test.comment(translated_string);",
        $script_content
    );
    $script_content = str_replace(
        "\\n'",
        "'",
        str_replace("'\\n", "'", $script_content)
    ); // compact test output
    // casperjs testing does not allow creation of casper object as it is already created by test engine
    $script_content = str_replace(
        "var casper = require(",
        "// var casper = require(",
        $script_content
    );
    // following help to define the script structure required by casperjs for test automation purpose
    $script_content = str_replace(
        "casper.start(",
        "casper.test.begin('" .
            str_replace("\\", "\\\\", $script) .
            "', " .
            $test_automation .
            ", function(test) {\ncasper.start(",
        $script_content
    ); // define required casperjs test structure
    $script_content = str_replace(
        "casper.run();",
        "casper.run(function() {test.done();});});",
        $script_content
    );
    file_put_contents($script . '.js', $script_content);
}

// save script after restructuring for testing
// otherwise prep for normal execution by commenting out test assertions as they will kill the script
elseif ($test_automation > 0) {
    $script_content = file_get_contents($script . '.js'); // read generated script
    $script_content = str_replace("test.", "// test.", $script_content);
    file_put_contents($script . '.js', $script_content);
}

function expand_intent($script_line)
{
    // function to handle calling of other TagUI automation scripts for reusability
    if (
        strpos(strtolower(trim($script_line)), 'tagui ') === 0 or
        strtolower(trim($script_line)) == 'tagui'
    ) {
        $params = trim(
            substr(
                trim($script_line) . " ",
                1 + strpos(trim($script_line) . " ", " ")
            )
        );
        if ($params == "") {
            die(
                "ERROR - filename missing for step " . trim($script_line) . "\n"
            );
        } elseif (!file_exists(abs_file($params))) {
            die("ERROR - file not found for step " . trim($script_line) . "\n");
        } else {
            $expanded_intent = "";
            $temp_input_file = fopen(abs_file($params), 'r');
            if ($temp_input_file == false) {
                die(
                    "ERROR - cannot open file for step " .
                        trim($script_line) .
                        "\n"
                );
            }
            while (!feof($temp_input_file)) {
                $expanded_intent .= expand_intent(fgets($temp_input_file));
            }
            fclose($temp_input_file);
            return $expanded_intent;
        }
    } else {
        return rtrim($script_line) . "\n";
    }
}

function current_line()
{
    return "[LINE " . $GLOBALS['line_number'] . "]";
}

function parse_intent($script_line)
{
    $GLOBALS['line_number']++;
    $GLOBALS['real_line_number']++;
    $indentation_tracker = str_replace(ltrim($script_line), '', $script_line); // tracking for py and vision
    $script_line = trim($script_line);
    if ($script_line == "") {
        $GLOBALS['real_line_number']--;
        return "";
    }
    $script_line = parse_backticks($script_line); // below check again after replacing repository definitions
    $script_line = trim($script_line);
    if ($script_line == "") {
        $GLOBALS['real_line_number']--;
        return "";
    }
    // below use buffer to handle integration code blocks if inside integration code block
    $intent_type = get_intent($script_line);
    if ($intent_type == "integration_block") {
        $GLOBALS['integration_block_body'] .=
            $indentation_tracker . $script_line . "[END_OF_LINE]";
        return "";
    } else {
        $script_line = parse_closure($script_line);
        return process_intent($intent_type, $script_line);
    }
}

function parse_backticks($script_line)
{
    // check existence of objects or keywords by searching for `object or keyword name`, then expand from repository
    // check for even number of ` to reduce false-positive because backtick syntax is supposed to be matching pairs
    if (
        substr_count($script_line, '`') > 1 and
        !(substr_count($script_line, '`') & 1)
    ) {
        if ($GLOBALS['repo_count'] == 0) {
            $script_line = parse_variables($script_line);
        } else {
            if (getenv('tagui_data_set') !== false) {
                $data_set = intval(getenv('tagui_data_set'));
            } else {
                $data_set = 1;
            }
            $escaped_line_ends = ["\n" => "\\n", "\r" => "\\r"];
            // loop through repository data to search and replace definitions, do it twice to handle objects within keywords
            for (
                $repo_check = 0;
                $repo_check <= $GLOBALS['repo_count'];
                $repo_check++
            ) {
                $repo_keyword =
                    "`" . $GLOBALS['repo_data'][$repo_check][0] . "`";
                $repo_data_value = strtr(
                    $GLOBALS['repo_data'][$repo_check][$data_set],
                    $escaped_line_ends
                );
                $script_line = str_replace(
                    $repo_keyword,
                    $repo_data_value,
                    $script_line
                );
            }
            for (
                $repo_check = 0;
                $repo_check <= $GLOBALS['repo_count'];
                $repo_check++
            ) {
                $repo_keyword =
                    "`" . $GLOBALS['repo_data'][$repo_check][0] . "`";
                $repo_data_value = strtr(
                    $GLOBALS['repo_data'][$repo_check][$data_set],
                    $escaped_line_ends
                );
                $script_line = str_replace(
                    $repo_keyword,
                    $repo_data_value,
                    $script_line
                );
            }
            if (strpos($script_line, '`') !== false) {
                $script_line = parse_variables($script_line);
            }
        }
    }
    return $script_line;
}

function parse_variables($script_line)
{
    // `variable` --> '+variable+'
    $quote_token = "'+"; // token to alternate replacements for '+variable+'
    for (
        $char_counter = 0;
        $char_counter < strlen($script_line);
        $char_counter++
    ) {
        if (substr($script_line, $char_counter, 1) == "`") {
            $script_line = substr_replace(
                $script_line,
                $quote_token,
                $char_counter,
                1
            );
            if ($quote_token == "'+") {
                $quote_token = "+'";
            } else {
                $quote_token = "'+";
            }
        }
    }
    return $script_line;
}

function parse_closure($script_line)
{
    switch ($script_line) {
        // \\n is needed for py, r, vision as multi-line string needs to have \n escaped to work in javascript
        // replacement code for [END_OF_LINE] custom token to denote line break is done at py, r, vision intents
        case "py finish":
            $script_line = substr($GLOBALS['integration_block_body'], 0, -13);
            $GLOBALS['inside_py_block'] = 0;
            break;
        case "r finish":
            $script_line = substr($GLOBALS['integration_block_body'], 0, -13);
            $GLOBALS['inside_r_block'] = 0;
            $script_line = str_replace(
                ";; ",
                "; ",
                str_replace(
                    "[END_OF_LINE]",
                    "; ",
                    $GLOBALS['integration_block_body']
                )
            );
            break;
        case "vision finish":
            $script_line = substr($GLOBALS['integration_block_body'], 0, -13);
            $GLOBALS['inside_vision_block'] = 0;
            break;
        case "js finish":
            $script_line = str_replace(
                "[END_OF_LINE]",
                "\n",
                $GLOBALS['integration_block_body']
            );
            $GLOBALS['inside_js_block'] = 0;
            break;
        case "dom finish":
            $script_line = str_replace(
                "[END_OF_LINE]",
                "\n",
                $GLOBALS['integration_block_body']
            );
            $GLOBALS['inside_dom_block'] = 0;
            break;
    }
    return $script_line;
}

function process_intent($intent_type, $script_line)
{
    // check intent of step for interpretation into casperjs code
    switch ($intent_type) {
        case "url":
            return url_intent($script_line);
            break;
        case "tap":
            return tap_intent($script_line);
            break;
        case "rtap":
            return rtap_intent($script_line);
            break;
        case "dtap":
            return dtap_intent($script_line);
            break;
        case "hover":
            return hover_intent($script_line);
            break;
        case "type":
            return type_intent($script_line);
            break;
        case "select":
            return select_intent($script_line);
            break;
        case "read":
            return read_intent($script_line);
            break;
        case "show":
            return show_intent($script_line);
            break;
        case "upload":
            return upload_intent($script_line);
            break;
        case "down":
            return down_intent($script_line);
            break;
        case "receive":
            return receive_intent($script_line);
            break;
        case "echo":
            return echo_intent($script_line);
            break;
        case "save":
            return save_intent($script_line);
            break;
        case "dump":
            return dump_intent($script_line);
            break;
        case "write":
            return write_intent($script_line);
            break;
        case "load":
            return load_intent($script_line);
            break;
        case "snap":
            return snap_intent($script_line);
            break;
        case "table":
            return table_intent($script_line);
            break;
        case "wait":
            return wait_intent($script_line);
            break;
        case "live":
            return live_intent($script_line);
            break;
        case "ask":
            return ask_intent($script_line);
            break;
        case "keyboard":
            return keyboard_intent($script_line);
            break;
        case "mouse":
            return mouse_intent($script_line);
            break;
        case "check":
            return check_intent($script_line);
            break;
        case "test":
            return test_intent($script_line);
            break;
        case "frame":
            return frame_intent($script_line);
            break;
        case "popup":
            return popup_intent($script_line);
            break;
        case "api":
            return api_intent($script_line);
            break;
        case "run":
            return run_intent($script_line);
            break;
        case "dom":
            return dom_intent($script_line);
            break;
        case "js":
            return js_intent($script_line);
            break;
        case "r":
            return r_intent($script_line);
            break;
        case "py":
            return py_intent($script_line);
            break;
        case "vision":
            return vision_intent($script_line);
            break;
        case "timeout":
            return timeout_intent($script_line);
            break;
        case "code":
            return code_intent($script_line);
            break;
        default:
            echo "ERROR - " .
                current_line() .
                " cannot understand step " .
                $script_line .
                "\n";
    }
}

function get_intent($raw_intent)
{
    $lc_raw_intent = strtolower($raw_intent);
    //check for a finish command and return, so we don't accidentally count it as a block intent
    if ($lc_raw_intent == "py finish") {
        return "py";
    }
    if ($lc_raw_intent == "r finish") {
        return "r";
    }
    if ($lc_raw_intent == "vision finish") {
        return "vision";
    }
    if ($lc_raw_intent == "js finish") {
        return "js";
    }
    if ($lc_raw_intent == "dom finish") {
        return "dom";
    }

    if (
        $GLOBALS['inside_py_block'] != 0 ||
        $GLOBALS['inside_r_block'] != 0 ||
        $GLOBALS['inside_vision_block'] != 0 ||
        $GLOBALS['inside_js_block'] != 0 ||
        $GLOBALS['inside_dom_block'] != 0
    ) {
        return "integration_block";
    }
    if ($GLOBALS['inside_run_block'] != 0) {
        return "run";
    }

    if (
        substr($lc_raw_intent, 0, 7) == "http://" or
        substr($lc_raw_intent, 0, 8) == "https://" or
        substr($lc_raw_intent, 0, 11) == "about:blank"
    ) {
        return "url";
    } // recognizing about:blank as valid URL as it is part of HTML5 standard

    // first set of conditions check for valid keywords with their parameters
    if (
        substr($lc_raw_intent, 0, 4) == "tap " or
        substr($lc_raw_intent, 0, 6) == "click "
    ) {
        return "tap";
    }
    if (
        substr($lc_raw_intent, 0, 5) == "rtap " or
        substr($lc_raw_intent, 0, 7) == "rclick "
    ) {
        return "rtap";
    }
    if (
        substr($lc_raw_intent, 0, 5) == "dtap " or
        substr($lc_raw_intent, 0, 7) == "dclick "
    ) {
        return "dtap";
    }
    if (
        substr($lc_raw_intent, 0, 6) == "hover " or
        substr($lc_raw_intent, 0, 5) == "move "
    ) {
        return "hover";
    }
    if (
        substr($lc_raw_intent, 0, 5) == "type " or
        substr($lc_raw_intent, 0, 6) == "enter "
    ) {
        return "type";
    }
    if (
        substr($lc_raw_intent, 0, 7) == "select " or
        substr($lc_raw_intent, 0, 7) == "choose "
    ) {
        return "select";
    }
    if (
        substr($lc_raw_intent, 0, 5) == "read " or
        substr($lc_raw_intent, 0, 6) == "fetch "
    ) {
        return "read";
    }
    if (
        substr($lc_raw_intent, 0, 5) == "show " or
        substr($lc_raw_intent, 0, 6) == "print "
    ) {
        return "show";
    }
    if (
        substr($lc_raw_intent, 0, 3) == "up " or
        substr($lc_raw_intent, 0, 7) == "upload "
    ) {
        return "upload";
    }
    if (
        substr($lc_raw_intent, 0, 5) == "down " or
        substr($lc_raw_intent, 0, 9) == "download "
    ) {
        return "down";
    }
    if (substr($lc_raw_intent, 0, 8) == "receive ") {
        return "receive";
    }
    if (substr($lc_raw_intent, 0, 5) == "echo ") {
        return "echo";
    }
    if (substr($lc_raw_intent, 0, 5) == "save ") {
        return "save";
    }
    if (substr($lc_raw_intent, 0, 5) == "dump ") {
        return "dump";
    }
    if (substr($lc_raw_intent, 0, 6) == "write ") {
        return "write";
    }
    if (substr($lc_raw_intent, 0, 5) == "load ") {
        return "load";
    }
    if (substr($lc_raw_intent, 0, 5) == "snap ") {
        return "snap";
    }
    if (substr($lc_raw_intent, 0, 6) == "table ") {
        return "table";
    }
    if (substr($lc_raw_intent, 0, 5) == "wait ") {
        return "wait";
    }
    if (substr($lc_raw_intent, 0, 5) == "live ") {
        return "live";
    }
    if (substr($lc_raw_intent, 0, 4) == "ask ") {
        return "ask";
    }
    if (substr($lc_raw_intent, 0, 9) == "keyboard ") {
        return "keyboard";
    }
    if (substr($lc_raw_intent, 0, 6) == "mouse ") {
        return "mouse";
    }
    if (substr($lc_raw_intent, 0, 6) == "check ") {
        $GLOBALS['test_automation']++;
        return "check";
    }
    if (substr($lc_raw_intent, 0, 5) == "test ") {
        return "test";
    }
    if (substr($lc_raw_intent, 0, 6) == "frame ") {
        return "frame";
    }
    if (substr($lc_raw_intent, 0, 6) == "popup ") {
        return "popup";
    }
    if (substr($lc_raw_intent, 0, 4) == "api ") {
        return "api";
    }
    if (substr($lc_raw_intent, 0, 4) == "run ") {
        return "run";
    }
    if (substr($lc_raw_intent, 0, 4) == "dom ") {
        return "dom";
    }
    if (substr($lc_raw_intent, 0, 3) == "js ") {
        return "js";
    }
    if (substr($lc_raw_intent, 0, 2) == "r ") {
        return "r";
    }
    if (substr($lc_raw_intent, 0, 3) == "py ") {
        return "py";
    }
    if (substr($lc_raw_intent, 0, 7) == "vision ") {
        return "vision";
    }
    if (substr($lc_raw_intent, 0, 8) == "timeout ") {
        return "timeout";
    }

    // second set of conditions check for valid keywords with missing parameters
    if ($lc_raw_intent == "tap" or $lc_raw_intent == "click") {
        return "tap";
    }
    if ($lc_raw_intent == "rtap" or $lc_raw_intent == "rclick") {
        return "rtap";
    }
    if ($lc_raw_intent == "dtap" or $lc_raw_intent == "dclick") {
        return "dtap";
    }
    if ($lc_raw_intent == "hover" or $lc_raw_intent == "move") {
        return "hover";
    }
    if ($lc_raw_intent == "type" or $lc_raw_intent == "enter") {
        return "type";
    }
    if ($lc_raw_intent == "select" or $lc_raw_intent == "choose") {
        return "select";
    }
    if ($lc_raw_intent == "read" or $lc_raw_intent == "fetch") {
        return "read";
    }
    if ($lc_raw_intent == "show" or $lc_raw_intent == "print") {
        return "show";
    }
    if ($lc_raw_intent == "up" or $lc_raw_intent == "upload") {
        return "upload";
    }
    if ($lc_raw_intent == "down" or $lc_raw_intent == "download") {
        return "down";
    }
    if ($lc_raw_intent == "receive") {
        return "receive";
    }
    if ($lc_raw_intent == "echo") {
        return "echo";
    }
    if ($lc_raw_intent == "save") {
        return "save";
    }
    if ($lc_raw_intent == "dump") {
        return "dump";
    }
    if ($lc_raw_intent == "write") {
        return "write";
    }
    if ($lc_raw_intent == "load") {
        return "load";
    }
    if ($lc_raw_intent == "snap") {
        return "snap";
    }
    if ($lc_raw_intent == "table") {
        return "table";
    }
    if ($lc_raw_intent == "wait") {
        return "wait";
    }
    if ($lc_raw_intent == "live") {
        return "live";
    }
    if ($lc_raw_intent == "ask") {
        return "ask";
    }
    if ($lc_raw_intent == "keyboard") {
        return "keyboard";
    }
    if ($lc_raw_intent == "mouse") {
        return "mouse";
    }
    if ($lc_raw_intent == "check") {
        $GLOBALS['test_automation']++;
        return "check";
    }
    if ($lc_raw_intent == "test") {
        return "test";
    }
    if ($lc_raw_intent == "frame") {
        return "frame";
    }
    if ($lc_raw_intent == "popup") {
        return "popup";
    }
    if ($lc_raw_intent == "api") {
        return "api";
    }
    if ($lc_raw_intent == "run") {
        return "run";
    }
    if ($lc_raw_intent == "dom") {
        return "dom";
    }
    if ($lc_raw_intent == "js") {
        return "js";
    }
    if ($lc_raw_intent == "r") {
        return "r";
    }
    if ($lc_raw_intent == "py") {
        return "py";
    }
    if ($lc_raw_intent == "vision") {
        return "vision";
    }
    if ($lc_raw_intent == "timeout") {
        return "timeout";
    }

    // final check for recognized code before returning error
    if (is_code($raw_intent)) {
        return "code";
    } else {
        return "error";
    }
}

function is_code($raw_intent)
{
    // due to asynchronous waiting for element, if/for/while can work for parsing single step
    // other scenarios can be assumed to behave as unparsed javascript in casperjs context
    // to let if/for/while handle multiple steps/code use the { and } steps to define block
    if (
        substr($raw_intent, 0, 4) == "var " or
        substr($raw_intent, 0, 3) == "do "
    ) {
        return true;
    }
    if (substr($raw_intent, 0, 1) == "{" or substr($raw_intent, 0, 1) == "}") {
        return true;
    }
    if (substr($raw_intent, -1) == "{" or substr($raw_intent, -1) == "}") {
        return true;
    }
    if (
        substr($raw_intent, 0, 3) == "if " or
        substr($raw_intent, 0, 4) == "else"
    ) {
        return true;
    }
    if (
        substr($raw_intent, 0, 4) == "for " or
        substr($raw_intent, 0, 6) == "while "
    ) {
        return true;
    }
    if (
        substr($raw_intent, 0, 7) == "switch " or
        substr($raw_intent, 0, 5) == "case "
    ) {
        return true;
    }
    if (substr($raw_intent, 0, 6) == "break;" or $raw_intent == "break") {
        return true;
    }
    if (substr($raw_intent, 0, 9) == "continue;" or $raw_intent == "continue") {
        return true;
    }
    if (
        substr($raw_intent, 0, 7) == "casper." or
        substr($raw_intent, 0, 5) == "this."
    ) {
        return true;
    }
    if (substr($raw_intent, 0, 7) == "chrome.") {
        return true;
    } // chrome object for chrome integration
    if (substr($raw_intent, 0, 5) == "test.") {
        $GLOBALS['test_automation']++;
        return true;
    }
    if (substr($raw_intent, 0, 2) == "//") {
        $GLOBALS['real_line_number']--;
        return true;
    }
    if (substr($raw_intent, -1) == ";") {
        return true;
    }
    if (substr($raw_intent, 0, 9) == "function ") {
        return true;
    }
    // assume = is assignment statement, kinda acceptable as this is checked at the very end
    if (strpos($raw_intent, "=") !== false) {
        return true;
    }
    return false;
}

function abs_file($filename)
{
    // helper function to return absolute filename
    if ($filename == "") {
        return "";
    }
    $flow_script = $GLOBALS['script']; // get flow filename
    if (substr($filename, 0, 1) == "/") {
        return $filename;
    } // return mac/linux absolute filename directly
    if (substr($filename, 1, 1) == ":") {
        return str_replace("\\", "/", $filename);
    } // return windows absolute filename directly
    if (
        strpos($filename, "'+") !== false and
        strpos($filename, "+'") !== false
    ) {
        return "'+abs_file('" . $filename . "')+'";
    } // throw to runtime abs_file function if dynamic filename is given
    if (is_coordinates($filename)) {
        return $filename;
    } // to handle when sikuli (x,y) coordinates locator is provided
    $flow_path = str_replace("\\", "/", dirname($flow_script)); // otherwise use flow script path to build absolute filename
    // above str_replace is because casperjs/phantomjs do not seem to support \ for windows paths, replace with / to work
    if (strpos($flow_path, "/") !== false) {
        return str_replace("\\", "/", $flow_path . '/' . $filename);
    } else {
        return $flow_path . '\\' . $filename;
    }
}

function beg_tx($locator)
{
    // helper function to return beginning string for handling locators
    if ($GLOBALS['inside_while_loop'] == 0) {
        return "\ncasper.waitFor(function check() {return check_tx('" .
            $locator .
            "');},\nfunction then() {";
    } else {
        return " // beg_tx while loop marker\n";
    }
}

function end_tx($locator)
{
    // helper function to return ending string for handling locators
    if ($GLOBALS['inside_while_loop'] == 0) {
        return "},\nfunction timeout() {this.echo('ERROR - cannot find " .
            $locator .
            "').exit();});}" .
            "});" .
            end_fi() .
            "\n\n";
    } elseif ($GLOBALS['inside_code_block'] == 0) {
        $GLOBALS['inside_while_loop'] = 0; // reset inside_while_loop if not inside block
        $GLOBALS['for_loop_tracker'] = ""; // reset for_loop_tracker if not inside block
        return "\n";
    } else {
        return "\n";
    }
}

function end_fi()
{
    // used to be a helper function primarily to end frame_intent by closing parsed step block
    if ($GLOBALS['inside_code_block'] == 0) {
        $GLOBALS['inside_while_loop'] = 0;
    } // reset inside_while_loop if not inside block
    if ($GLOBALS['inside_code_block'] == 0) {
        $GLOBALS['for_loop_tracker'] = "";
    } // reset for_loop_tracker if not inside block
    if ($GLOBALS['inside_while_loop'] == 1) {
        return " // end_fi while loop marker";
    }
    return "";
}

function add_concat($source_string)
{
    // parse string and add missing + concatenator
    if (
        strpos($source_string, "'") !== false and
        strpos($source_string, "\"") !== false
    ) {
        echo "ERROR - " .
            current_line() .
            " inconsistent quotes in " .
            $source_string .
            "\n";
    } elseif (strpos($source_string, "'") !== false) {
        $quote_type = "'";
    }
    // derive quote type used
    elseif (strpos($source_string, "\"") !== false) {
        $quote_type = "\"";
    } else {
        $quote_type = "none";
    }
    $within_quote = false;
    $source_string = trim($source_string); // trim for future proof
    for ($srcpos = 0; $srcpos < strlen($source_string); $srcpos++) {
        if ($source_string[$srcpos] == $quote_type) {
            $within_quote = !$within_quote;
        }
        if ($within_quote == false and $source_string[$srcpos] == " ") {
            $source_string[$srcpos] = "+";
        }
    }
    $source_string = str_replace("+++++", "+", $source_string);
    $source_string = str_replace("++++", "+", $source_string);
    $source_string = str_replace("+++", "+", $source_string);
    $source_string = str_replace("++", "+", $source_string);
    return $source_string;
} // replacing multiple variations of + to handle user typos of double spaces etc

function is_coordinates($input_params)
{
    // helper function to check if string is (x,y) coordinates
    if (
        strlen($input_params) > 4 and
        substr($input_params, 0, 1) == '(' and
        substr($input_params, -1) == ')' and
        (substr_count($input_params, ',') == 1 or
            substr_count($input_params, ',') == 2) and
        (strpos($input_params, "'+") !== false and
            strpos($input_params, "+'") !== false or
            !preg_match('/[a-zA-Z]/', $input_params))
    ) {
        return true;
    } else {
        return false;
    }
}

function is_sikuli($input_params)
{
    // helper function to check if input is meant for sikuli visual automation
    if (
        strlen($input_params) > 4 and
        strtolower(substr($input_params, -4)) == '.png'
    ) {
        return true;
    }
    // support png and bmp
    elseif (
        strlen($input_params) > 4 and
        strtolower(substr($input_params, -4)) == '.bmp'
    ) {
        return true;
    } elseif (is_coordinates($input_params)) {
        return true;
    } else {
        return false;
    }
}

function call_sikuli($input_intent, $input_params, $other_actions = '')
{
    // helper function to use sikuli visual automation
    if (!touch('tagui.sikuli/tagui_sikuli.in')) {
        die("ERROR - cannot initialise tagui_sikuli.in\n");
    }
    if (!touch('tagui.sikuli/tagui_sikuli.out')) {
        die("ERROR - cannot initialise tagui_sikuli.out\n");
    }
    if ($other_actions != '') {
        $other_actions = "\n" . $other_actions;
    }
    return "{techo('" .
        str_replace(' to snap_image()', '', $input_intent) .
        "'); var fs = require('fs');\n" .
        "if (!sikuli_step('" .
        $input_intent .
        "')) if (!fs.exists('" .
        $input_params .
        "'))\n" .
        "this.echo('ERROR - cannot find image file " .
        $input_params .
        "').exit(); else\n" .
        "this.echo('ERROR - cannot find " .
        $input_params .
        " on screen').exit(); this.wait(0);" .
        $other_actions .
        "}" .
        end_fi() .
        "});\n\n";
}

function call_r($input_intent)
{
    // helper function to use R integration for data analytics and machine learning
    if (!touch('tagui_r/tagui_r.in')) {
        die("ERROR - cannot initialise tagui_r.in\n");
    }
    if (!touch('tagui_r/tagui_r.out')) {
        die("ERROR - cannot initialise tagui_r.out\n");
    }
    return "{techo('" .
        $input_intent .
        "');\n" .
        "r_result = ''; if (!r_step('" .
        $input_intent .
        "'))\n" .
        "this.echo('ERROR - cannot execute R command(s)').exit(); this.wait(0);\n" .
        "r_result = fetch_r_text(); clear_r_text();\n" .
        "try {r_json = JSON.parse(r_result);} catch(e) {r_json = JSON.parse('null');}}" .
        end_fi() .
        "});\n\n";
}

function call_py($input_intent)
{
    // helper function to use Python integration for data analytics and machine learning
    if (!touch('tagui_py/tagui_py.in')) {
        die("ERROR - cannot initialise tagui_py.in\n");
    }
    if (!touch('tagui_py/tagui_py.out')) {
        die("ERROR - cannot initialise tagui_py.out\n");
    }
    return "{techo('" .
        $input_intent .
        "');\n" .
        "py_result = ''; if (!py_step('" .
        $input_intent .
        "'))\n" .
        "this.echo('ERROR - cannot execute Python command(s)').exit(); this.wait(0);\n" .
        "py_result = fetch_py_text(); clear_py_text();\n" .
        "try {py_json = JSON.parse(py_result);} catch(e) {py_json = JSON.parse('null');}}" .
        end_fi() .
        "});\n\n";
}

// set of functions to interpret steps into corresponding casperjs code
function url_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $casper_url = $raw_intent;
    $chrome_call = '';
    if ($twb == 'chrome') {
        $chrome_call =
            "var download_path = flow_path; // to set path correctly for Windows\n" .
            "if (download_path.indexOf(':')>0) download_path = download_path.replace(/\//g,'\\\\').replace(/\\\\/g,'\\\\');\n" .
            "chrome_step('Page.setDownloadBehavior',{behavior: 'allow', downloadPath: download_path});\n";
        $casper_url = 'about:blank';
        $chrome_call .=
            "chrome_step('Page.navigate',{url: '" .
            $raw_intent .
            "'}); sleep(1000);\n";
    }
    if (
        strpos($raw_intent, "'+") !== false and
        strpos($raw_intent, "+'") !== false
    ) {
        // check if dynamic url is used
        // wrap step within casper context if variable (casper context) is used in url, in order to access variable
        $dynamic_header = "casper.then(function() {";
        $dynamic_footer = "}); // end of dynamic url block";
    } else {
        $dynamic_header = "";
        $dynamic_footer = ""; // else casper.start/thenOpen can be outside casper context
        if (filter_var($raw_intent, FILTER_VALIDATE_URL) == false) {
            if ($raw_intent != 'about:blank') {
                // do url validation only for raw text url string
                echo "ERROR - " .
                    current_line() .
                    " invalid URL " .
                    $raw_intent .
                    "\n";
            }
        }
    }
    if ($GLOBALS['real_line_number'] == 1) {
        // use casper.start for first URL call and casper.thenOpen for subsequent calls
        $GLOBALS['url_provided'] = true;
        return $dynamic_header .
            "casper.start('" .
            $casper_url .
            "', function() {\n" .
            $chrome_call .
            "techo('" .
            $raw_intent .
            "' + ' - ' + " .
            $twb .
            ".getTitle() + '\\n');});" .
            $dynamic_footer .
            "\n\n";
    } else {
        return $dynamic_header .
            "casper.thenOpen('" .
            $casper_url .
            "', function() {\n" .
            $chrome_call .
            "techo('" .
            $raw_intent .
            "' + ' - ' + " .
            $twb .
            ".getTitle());});" .
            $dynamic_footer .
            "\n\n";
    }
}

function tap_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if (is_sikuli($params)) {
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_params);
    } // use sikuli visual automation as needed
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            $twb .
            ".click(tx('" .
            $params .
            "'));" .
            end_tx($params);
    }
}

function rtap_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if (is_sikuli($params)) {
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_params);
    } // use sikuli visual automation as needed
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            $twb .
            ".mouse.rightclick(tx('" .
            $params .
            "'));" .
            end_tx($params);
    }
}

function dtap_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if (is_sikuli($params)) {
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_params);
    } // use sikuli visual automation as needed
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            $twb .
            ".mouse.doubleclick(tx('" .
            $params .
            "'));" .
            end_tx($params);
    }
}

function hover_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if (is_sikuli($params)) {
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_params);
    } // use sikuli visual automation as needed
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            $twb .
            ".mouse.move(tx('" .
            $params .
            "'));" .
            end_tx($params);
    }
}

function type_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " as ")));
    $param2 = trim(substr($params, 4 + strpos($params, " as ")));
    if (is_sikuli($param1) and $param2 != "") {
        $abs_param1 = abs_file($param1);
        $abs_intent = str_replace($param1, $abs_param1, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_param1);
    } // use sikuli visual automation as needed
    if ($param1 == "" or $param2 == "") {
        echo "ERROR - " .
            current_line() .
            " target/text missing for " .
            $raw_intent .
            "\n";
    } else {
        // special handling for [clear] keyword to clear text field by doing an extra step to clear the field
        if (substr($param2, 0, 7) == "[clear]") {
            if (strlen($param2) > 7) {
                $param2 = substr($param2, 7);
            } else {
                $param2 = "";
            }
            $clear_field =
                $twb . ".sendKeys(tx('" . $param1 . "'),'',{reset: true});\n";
        } else {
            $clear_field = "";
        }
        if (strpos($param2, "[enter]") === false) {
            return "casper.then(function() {" .
                "{techo('" .
                $raw_intent .
                "');" .
                beg_tx($param1) .
                $clear_field .
                $twb .
                ".sendKeys(tx('" .
                $param1 .
                "'),'" .
                $param2 .
                "');" .
                end_tx($param1);
        }
        // special handling for [enter] keyword to send enter key events
        else {
            $param2 = str_replace(
                "[enter]",
                "',{keepFocus: true});\n" .
                    $twb .
                    ".sendKeys(tx('" .
                    $param1 .
                    "'),casper.page.event.key.Enter,{keepFocus: true});\n" .
                    $twb .
                    ".sendKeys(tx('" .
                    $param1 .
                    "'),'",
                $param2
            );
            return "casper.then(function() {" .
                "{techo('" .
                $raw_intent .
                "');" .
                beg_tx($param1) .
                $clear_field .
                $twb .
                ".sendKeys(tx('" .
                $param1 .
                "'),'" .
                $param2 .
                "',{keepFocus: true});" .
                end_tx($param1);
        }
    }
}

function select_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " as ")));
    $param2 = trim(substr($params, 4 + strpos($params, " as ")));
    if (is_sikuli($param1) and is_sikuli($param2)) {
        $abs_param1 = abs_file($param1);
        $abs_intent = str_replace($param1, $abs_param1, $raw_intent);
        $abs_param2 = abs_file($param2);
        $abs_intent = str_replace($param2, $abs_param2, $abs_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_param1);
    } // use sikuli visual automation as needed
    if ($param1 == "" or $param2 == "") {
        echo "ERROR - " .
            current_line() .
            " target/option missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($param1) .
            "var select_locator = tx('" .
            $param1 .
            "');\n" .
            "if (is_xpath_selector(select_locator.toString().replace('xpath selector: ','')))\n" .
            "select_locator = select_locator.toString().substring(16);\n" .
            $twb .
            ".selectOptionByValue(select_locator,'" .
            $param2 .
            "');" .
            end_tx($param1);
    }
}

function read_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if (is_sikuli($param1) and strpos($params, " to ") !== false) {
        // use sikuli visual automation as needed
        $abs_param1 = abs_file($param1);
        $abs_intent = str_replace($param1, $abs_param1, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli(
                $abs_intent,
                $abs_param1,
                $param2 . " = fetch_sikuli_text(); clear_sikuli_text();"
            );
    }
    if (strtolower($param1) == "page" and $param2 != "") {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');\n" .
            $param2 .
            " = " .
            $twb .
            ".getHTML();}" .
            end_fi() .
            "});" .
            "\n\n";
    }
    if ($param1 == "" or $param2 == "") {
        echo "ERROR - " .
            current_line() .
            " target/variable missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($param1) .
            $param2 .
            " = " .
            $twb .
            ".fetchText(tx('" .
            $param1 .
            "')).trim();" .
            end_tx($param1);
    }
}

function show_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if (is_sikuli($params)) {
        // use sikuli visual automation as needed
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli(
                $abs_intent,
                $abs_params,
                "this.echo(fetch_sikuli_text()); clear_sikuli_text();"
            );
    }
    if (strtolower($params) == "page") {
        return "casper.then(function() {" .
            "this.echo('" .
            $raw_intent .
            "' + ' - \\n' + " .
            $twb .
            ".getHTML());" .
            end_fi() .
            "});" .
            "\n\n";
    }
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            "this.echo(" .
            $twb .
            ".fetchText(tx('" .
            $params .
            "')).trim());" .
            end_tx($params);
    }
}

function upload_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " as ")));
    $param2 = trim(substr($params, 4 + strpos($params, " as ")));
    if ($param1 == "" or $param2 == "") {
        echo "ERROR - " .
            current_line() .
            " filename missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($param1) .
            $twb .
            ".page.uploadFile(tx('" .
            $param1 .
            "'),'" .
            abs_file($param2) .
            "');" .
            end_tx($param1);
    }
}

function down_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if ($param1 == "" or $param2 == "") {
        echo "ERROR - " .
            current_line() .
            " url/filename missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');\n" .
            $twb .
            ".download('" .
            $param1 .
            "','" .
            abs_file($param2) .
            "');}" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function receive_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if ($param1 == "" or $param2 == "") {
        echo "ERROR - " .
            current_line() .
            " keyword/filename missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');\n" .
            "casper.on('resource.received', function(resource) {if (resource.stage !== 'end') return;\n" .
            "if (resource.url.indexOf('" .
            $param1 .
            "') > -1) " .
            $twb .
            ".download(resource.url, '" .
            abs_file($param2) .
            "');});}" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function echo_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " text missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "this.echo(" .
            add_concat($params) .
            ");" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function save_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if (is_sikuli($param1) and strpos($params, " to ") !== false) {
        // use sikuli visual automation as needed
        $abs_param1 = abs_file($param1);
        $abs_intent = str_replace($param1, $abs_param1, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli(
                $abs_intent,
                $abs_param1,
                "save_text('" .
                    abs_file($param2) .
                    "',fetch_sikuli_text()); clear_sikuli_text();"
            );
    } elseif (is_sikuli($params) and strpos($params, " to ") == false) {
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli(
                $abs_intent,
                $abs_param1,
                "save_text('',fetch_sikuli_text()); clear_sikuli_text();"
            );
    }
    if (strtolower($params) == "page" or strtolower($param1) == "page") {
        if (strpos($params, " to ") !== false) {
            return "casper.then(function() {" .
                "{techo('" .
                $raw_intent .
                "');\nsave_text('" .
                abs_file($param2) .
                "'," .
                $twb .
                ".getHTML());}" .
                end_fi() .
                "});" .
                "\n\n";
        } else {
            return "casper.then(function() {" .
                "{techo('" .
                $raw_intent .
                "');\nsave_text(''," .
                $twb .
                ".getHTML());}" .
                end_fi() .
                "});" .
                "\n\n";
        }
    }
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, " to ") !== false) {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($param1) .
            "save_text('" .
            abs_file($param2) .
            "'," .
            $twb .
            ".fetchText(tx('" .
            $param1 .
            "')).trim());" .
            end_tx($param1);
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            "save_text(''," .
            $twb .
            ".fetchText(tx('" .
            $params .
            "')).trim());" .
            end_tx($params);
    }
}

function dump_intent($raw_intent)
{
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo below when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " variable missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, " to ") !== false) {
        return "casper.then(function() {" .
            "{techo('" .
            $safe_intent .
            "');\nsave_text('" .
            abs_file($param2) .
            "'," .
            add_concat($param1) .
            ");}" .
            end_fi() .
            "});" .
            "\n\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $safe_intent .
            "');\nsave_text(''," .
            add_concat($params) .
            ");}" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function write_intent($raw_intent)
{
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo below when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " variable missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, " to ") !== false) {
        return "casper.then(function() {" .
            "{techo('" .
            $safe_intent .
            "');\nappend_text('" .
            abs_file($param2) .
            "'," .
            add_concat($param1) .
            ");}" .
            end_fi() .
            "});" .
            "\n\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $safe_intent .
            "');\nappend_text(''," .
            add_concat($params) .
            ");}" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function load_intent($raw_intent)
{
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo below when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " filename missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, " to ") !== false) {
        return "casper.then(function() {" .
            "{techo('" .
            $safe_intent .
            "');\nvar fs = require('fs'); " .
            $param2 .
            " = '';\n" .
            "if (fs.exists('" .
            abs_file($param1) .
            "'))\n" .
            $param2 .
            " = fs.read('" .
            abs_file($param1) .
            "').trim();\n" .
            "else this.echo('ERROR - cannot find file " .
            $param1 .
            "').exit();}" .
            end_fi() .
            "});" .
            "\n\n";
    } else {
        echo "ERROR - " .
            current_line() .
            " variable missing for " .
            $raw_intent .
            "\n";
    }
}

function snap_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if (is_sikuli($param1) and strpos($params, " to ") !== false) {
        $abs_param1 = abs_file($param1);
        $abs_intent = str_replace($param1, $abs_param1, $raw_intent);
        $abs_param2 = abs_file($param2);
        $abs_intent = str_replace($param2, $abs_param2, $abs_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent, $abs_param1);
    }
    // use sikuli visual automation as needed
    elseif (is_sikuli($params) and strpos($params, " to ") == false) {
        $abs_params = abs_file($params);
        $abs_intent = str_replace($params, $abs_params, $raw_intent);
        return "casper.then(function() {" .
            call_sikuli($abs_intent . ' to snap_image()', $abs_params);
    } // handle no output filename
    if (strtolower($params) == "page" or strtolower($param1) == "page") {
        if (strpos($params, " to ") !== false) {
            return "casper.then(function() {" .
                "{techo('" .
                $raw_intent .
                "');\n" .
                $twb .
                ".capture('" .
                abs_file($param2) .
                "');}" .
                end_fi() .
                "});" .
                "\n\n";
        } else {
            return "casper.then(function() {" .
                "{techo('" .
                $raw_intent .
                "');\n" .
                $twb .
                ".capture(snap_image());}" .
                end_fi() .
                "});" .
                "\n\n";
        }
    }
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, " to ") !== false) {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($param1) .
            $twb .
            ".captureSelector('" .
            abs_file($param2) .
            "',tx('" .
            $param1 .
            "'));" .
            end_tx($param1);
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            $twb .
            ".captureSelector(snap_image(),tx('" .
            $params .
            "'));" .
            end_tx($params);
    }
}

function table_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, " to ")));
    $param2 = trim(substr($params, 4 + strpos($params, " to ")));
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " target missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, " to ") !== false) {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($param1) .
            "save_table('" .
            abs_file($param2) .
            "',tx('" .
            $param1 .
            "'));" .
            end_tx($param1);
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');" .
            beg_tx($params) .
            "save_table('',tx('" .
            $params .
            "'));" .
            end_tx($params);
    }
}

function wait_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        $params = "5";
    }
    if (strpos($params, "'+") !== false and strpos($params, "+'") !== false) {
        // handling for dynamic time
        return "casper.then(function() {" .
            "techo('" .
            $raw_intent .
            "');});\ncasper.then(function() {casper.wait((parseFloat('" .
            $params .
            "')*1000), function() {" .
            "});});" .
            "\n\n";
    } else {
        return "casper.then(function() {" .
            "techo('" .
            $raw_intent .
            "');});\ncasper.then(function() {casper.wait(" .
            floatval($params) * 1000 .
            ", function() {" .
            "});});" .
            "\n\n";
    }
}

function live_intent($raw_intent)
{
    // live mode to interactively test tagui steps and js code (casperjs context)
    return "casper.then(function() {" .
        "{var live_input = '';\nvar sys = require('system'); sys.stdout.write('LIVE MODE - type done to quit\\n \\b');\n" .
        "while (true) {live_input = sys.stdin.readLine(); // evaluate input in casperjs context until done is entered\n" .
        "if (live_input.indexOf('done') == 0) break; try {eval(tagui_parse(live_input));}
catch(e) {this.echo('ERROR - ' + e.message.charAt(0).toLowerCase() + e.message.slice(1));}}}" .
        end_fi() .
        "});" .
        "\n\n";
}

function ask_intent($raw_intent)
{
    // ask user for input during automation and save to ask_result variable
    $raw_intent = str_replace("\'", "'", $raw_intent);
    $raw_intent = str_replace("'", "\'", $raw_intent);
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " prompt missing for " .
            $raw_intent .
            "\n";
    } elseif (getenv('tagui_web_browser') == 'chrome') {
        // show a popup window if running on visible chrome mode
        return "casper.then(function() {" .
            "{ask_result = ''; ask_result = chrome.evaluate(function() {\nreturn prompt('" .
            $params .
            "');}); " .
            "if (ask_result == null) ask_result = '';}" .
            end_fi() .
            "});" .
            "\n\n";
    } else {
        return "casper.then(function() {" .
            "{ask_result = ''; var sys = require('system');\nthis.echo('" .
            $params .
            " '); " .
            "ask_result = sys.stdin.readLine();}" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function keyboard_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " keys to type missing for " .
            $raw_intent .
            "\n";
    }
    return "casper.then(function() {" . call_sikuli($raw_intent, $params);
}

function mouse_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " down / up missing for " .
            $raw_intent .
            "\n";
    } elseif (strtolower($params) == "down") {
        return "casper.then(function() {" . call_sikuli($raw_intent, "down");
    } elseif (strtolower($params) == "up") {
        return "casper.then(function() {" . call_sikuli($raw_intent, "up");
    } else {
        echo "ERROR - " .
            current_line() .
            " cannot understand step " .
            $raw_intent .
            "\n";
    }
}

// helper function as check_intent() adds an if block that immediately closes without going through closure handling
function check_intent_clear_injected_if_block()
{
    $last_delimiter_pos = strrpos($GLOBALS['code_block_tracker'], "|");
    $GLOBALS['code_block_tracker'] = substr(
        $GLOBALS['code_block_tracker'],
        0,
        $last_delimiter_pos
    );
    return "";
}

function check_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $params = str_replace("||", " JAVASCRIPT_OR ", $params); // to handle conflict with "|" delimiter
    $param1 = trim(substr($params, 0, strpos($params, "|")));
    $param2 = trim(substr($params, 1 + strpos($params, "|")));
    $param3 = trim(substr($param2, 1 + strpos($param2, "|")));
    $param2 = trim(substr($param2, 0, strpos($param2, "|")));
    $param1 = str_replace(" JAVASCRIPT_OR ", "||", $param1); // to restore back "||" that were replaced
    $param2 = str_replace(" JAVASCRIPT_OR ", "||", $param2);
    $param3 = str_replace(" JAVASCRIPT_OR ", "||", $param3);
    if (substr_count($params, "|") != 2) {
        echo "ERROR - " .
            current_line() .
            " if/true/false missing for " .
            $raw_intent .
            "\n";
    } elseif (getenv('tagui_test_mode') == 'true') {
        return "casper.then(function() {" .
            "{" .
            parse_condition("if " . $param1) .
            "\ntest.assert(true," .
            add_concat($param2) .
            ");\nelse test.assert(false," .
            add_concat($param3) .
            ");}" .
            check_intent_clear_injected_if_block() .
            end_fi() .
            "});" .
            "\n\n";
    } else {
        return "casper.then(function() {" .
            "{" .
            parse_condition("if " . $param1) .
            "\nthis.echo(" .
            add_concat($param2) .
            ");\nelse this.echo(" .
            add_concat($param3) .
            ");}" .
            check_intent_clear_injected_if_block() .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function test_intent($raw_intent)
{
    echo "ERROR - " .
        current_line() .
        " use CasperJS tester module to professionally " .
        $raw_intent .
        "\n";
    echo "ERROR - " .
        current_line() .
        " info at http://docs.casperjs.org/en/latest/modules/tester.html" .
        "\n";
    echo "ERROR - " .
        current_line() .
        " support CSS selector or tx('selector') for XPath algo by TagUI" .
        "\n";
}

function frame_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    $param1 = trim(substr($params, 0, strpos($params, "|")));
    $param2 = trim(substr($params, 1 + strpos($params, "|")));
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " name missing for " .
            $raw_intent .
            "\n";
    } elseif (strpos($params, "|") !== false) {
        $GLOBALS['code_block_tracker'] .= "|" . 'dframe';
        return "casper.then(function() {" .
            "techo('" .
            $raw_intent .
            "');});\n" .
            "casper.withFrame('" .
            $param1 .
            "', function() {casper.withFrame('" .
            $param2 .
            "', function() {\n";
    } else {
        $GLOBALS['code_block_tracker'] .= "|" . 'frame';
        return "casper.then(function() {" .
            "techo('" .
            $raw_intent .
            "');});\n" .
            "casper.withFrame('" .
            $params .
            "', function() {\n";
    }
}

function popup_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " keyword missing for " .
            $raw_intent .
            "\n";
    } else {
        $GLOBALS['code_block_tracker'] .= "|" . 'popup';
        return "casper.then(function() {" .
            "techo('" .
            $raw_intent .
            "');" .
            "});\n" .
            "casper.waitForPopup(/" .
            preg_quote($params) .
            "/, function then() {},\n" .
            "function timeout() {this.echo('ERROR - cannot find popup " .
            $params .
            "').exit();});\n" .
            "casper.withPopup(/" .
            preg_quote($params) .
            "/, function() {\n";
    }
}

function api_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " API URL missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "{techo('" .
            $raw_intent .
            "');\napi_result = ''; api_result = call_api('" .
            $params .
            "');\n" .
            "try {api_json = JSON.parse(api_result);} catch(e) {api_json = JSON.parse('null');}}" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function run_intent($raw_intent)
{
    $raw_intent = str_replace('\\', '\\\\', $raw_intent); // to call paths correctly for Windows
    if (strtolower($raw_intent) == "run begin") {
        $GLOBALS['inside_run_block'] = 1;
        return "";
    } elseif (strtolower($raw_intent) == "run finish") {
        $GLOBALS['inside_run_block'] = 0;
        return "";
    }
    if ($GLOBALS['inside_run_block'] == 1) {
        $raw_intent = "run " . $raw_intent;
    }
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " command to run missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "techo('" .
            $safe_intent .
            "');});\ncasper.then(function() {" .
            "casper.waitForExec('" .
            $params .
            "', null, function(response) {run_result = '';\n" .
            "run_result = (response.data.stdout.trim() || response.data.stderr.trim()); " .
            "run_result = run_result.replace(/\\r\\n/g,'\\n');\nrun_json = response.data;}, function() {" .
            "this.echo('ERROR - command to run exceeded '+(casper.options.waitTimeout/1000).toFixed(1)+'s timeout').exit();}," .
            "casper.options.waitTimeout);});\n\n";
    }
}

function dom_intent($raw_intent)
{
    $twb = $GLOBALS['tagui_web_browser'];
    if (strtolower($raw_intent) == "dom begin") {
        $GLOBALS['inside_dom_block'] = 1;
        $GLOBALS['integration_block_body'] = "dom ";
        return "";
    }
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " statement missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "dom_result = ''; dom_result = " .
            $twb .
            ".evaluate(function(dom_json) {" .
            $params .
            "}, dom_json);" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function js_intent($raw_intent)
{
    if (strtolower($raw_intent) == "js begin") {
        $GLOBALS['inside_js_block'] = 1;
        $GLOBALS['integration_block_body'] = "js ";
        return "";
    }
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " statement missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() { // start of JS code\n" .
            $params .
            "\n}); // end of JS code" .
            "\n\n";
    }
}

function r_intent($raw_intent)
{
    if (strtolower($raw_intent) == "r begin") {
        $GLOBALS['inside_r_block'] = 1;
        $GLOBALS['integration_block_body'] = "r ";
        return "";
    }
    $raw_intent = str_replace('\\', '\\\\', $raw_intent); // to send \ correctly over to integration
    $raw_intent = str_replace('[END_OF_LINE]', '\\n', $raw_intent); // replace after above to prevent from escape
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " R command(s) missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" . call_r($safe_intent);
    }
}

function py_intent($raw_intent)
{
    if (strtolower($raw_intent) == "py begin") {
        $GLOBALS['inside_py_block'] = 1;
        $GLOBALS['integration_block_body'] = "py ";
        return "";
    }
    $raw_intent = str_replace('\\', '\\\\', $raw_intent); // to send \ correctly over to integration
    $raw_intent = str_replace('[END_OF_LINE]', '\\n', $raw_intent); // replace after above to prevent from escape
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " Python command(s) missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" . call_py($safe_intent);
    }
}

function vision_intent($raw_intent)
{
    if (strtolower($raw_intent) == "vision begin") {
        $GLOBALS['inside_vision_block'] = 1;
        $GLOBALS['integration_block_body'] = "vision ";
        return "";
    }
    $raw_intent = str_replace('\\', '\\\\', $raw_intent); // to send \ correctly over to integration
    $raw_intent = str_replace('[END_OF_LINE]', '\\n', $raw_intent); // replace after above to prevent from escape
    $safe_intent = str_replace("'", "\'", $raw_intent); // avoid breaking echo when single quote is used
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " Sikuli command(s) missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            call_sikuli($safe_intent, 'for vision step');
    }
} // use sikuli visual automation explicitly

function timeout_intent($raw_intent)
{
    $params = trim(
        substr($raw_intent . " ", 1 + strpos($raw_intent . " ", " "))
    );
    if ($params == "") {
        echo "ERROR - " .
            current_line() .
            " time in seconds missing for " .
            $raw_intent .
            "\n";
    } else {
        return "casper.then(function() {" .
            "casper.options.waitTimeout = " .
            floatval($params) * 1000 .
            "; sikuli_timeout(" .
            floatval($params) .
            ");" .
            end_fi() .
            "});" .
            "\n\n";
    }
}

function code_intent($raw_intent)
{
    $params = parse_condition($raw_intent);
    if (substr($raw_intent, 0, 2) == "//") {
        return $params . "\n";
    } // return comments directly without casper.then wrappers
    if (substr($raw_intent, 0, 1) == "{" or substr($raw_intent, 0, 1) == "}") {
        return $params . "\n";
    } // no wrappers for {}
    if (
        substr($params, 0, 3) == "if " or
        substr($params, 0, 8) == "else if " or
        substr($params, 0, 4) == "for " or
        substr($params, 0, 6) == "while " or
        trim($raw_intent) == "else"
    ) {
        return "casper.then(function() {" . $params . "\n";
    } elseif ($GLOBALS['inside_while_loop'] == 1) {
        return $params . "\n";
    } else {
        return "casper.then(function() { // start of JS code\n" .
            $params .
            "\n}); // end of JS code" .
            "\n\n";
    }
}

function parse_condition($logic)
{
    // natural language handling for conditions
    $raw_logic = $logic; // store an original copy for use when showing error message
    if (substr($logic, 0, 2) == "//") {
        return $logic;
    } // skip processing for comment

    // section 1 - replace braces block {} with casperjs block to group steps or code
    // take only lines starting with { or } as code blocks for processing, otherwise will break many valid javascript code
    if (substr($logic, 0, 1) == "{") {
        $GLOBALS['inside_code_block']++;
    } // assume nothing on rest of the line except comment
    if (substr($logic, 0, 1) == "}") {
        $GLOBALS['inside_code_block']--;
    } // assume nothing on rest of the line except comment
    $code_block_header = "";
    $code_block_footer = "";
    $last_delimiter_pos = strrpos($GLOBALS['code_block_tracker'], "|");
    $code_block_intent = substr(
        $GLOBALS['code_block_tracker'],
        $last_delimiter_pos + 1
    );

    if (
        $GLOBALS['inside_code_block'] >
            substr_count($GLOBALS['code_block_tracker'], "|") and
        substr($logic, 0, 1) == "{"
    ) {
        $GLOBALS['code_block_tracker'] .= "|" . 'normal_bracket';
        return $logic . "\n";
    }
    // handle normal JavaScript brackets
    elseif (
        substr($logic, 0, 1) == "}" and
        $code_block_intent == "normal_bracket"
    ) {
        $GLOBALS['code_block_tracker'] = substr(
            $GLOBALS['code_block_tracker'],
            0,
            $last_delimiter_pos
        );
        return $logic . "\n";
    }

    if (
        $code_block_intent == "if" or
        $code_block_intent == "else if" or
        $code_block_intent == "else" or
        $code_block_intent == "popup" or
        $code_block_intent == "frame"
    ) {
        if (substr($logic, 0, 1) == "}") {
            $GLOBALS['code_block_tracker'] = substr(
                $GLOBALS['code_block_tracker'],
                0,
                $last_delimiter_pos
            );
        }
    } elseif ($code_block_intent == "for" and substr($logic, 0, 1) == "{") {
        $last_delimiter_pos = strrpos($GLOBALS['for_loop_tracker'], "|");
        $for_loop_variable_name = substr(
            $GLOBALS['for_loop_tracker'],
            $last_delimiter_pos + 1
        );
        $code_block_header =
            "{casper.then(function() {for_loop_signal = '[CONTINUE_SIGNAL][" .
            $for_loop_variable_name .
            "]';});\n" .
            "(function (" .
            $for_loop_variable_name .
            ") { // start of IIFE pattern\n";
    } elseif ($code_block_intent == "for" and substr($logic, 0, 1) == "}") {
        $last_delimiter_pos = strrpos($GLOBALS['for_loop_tracker'], "|");
        $for_loop_variable_name = substr(
            $GLOBALS['for_loop_tracker'],
            $last_delimiter_pos + 1
        );
        $code_block_footer =
            "})(" .
            $for_loop_variable_name .
            "); // end of IIFE pattern, with dummy marker for break step\n" .
            "casper.then(function() {for_loop_signal = '[BREAK_SIGNAL][" .
            $for_loop_variable_name .
            "]';});}";
        $last_delimiter_pos = strrpos($GLOBALS['code_block_tracker'], "|");
        $GLOBALS['code_block_tracker'] = substr(
            $GLOBALS['code_block_tracker'],
            0,
            $last_delimiter_pos
        );
        $last_delimiter_pos = strrpos($GLOBALS['for_loop_tracker'], "|");
        $GLOBALS['for_loop_tracker'] = substr(
            $GLOBALS['for_loop_tracker'],
            0,
            $last_delimiter_pos
        );
    } elseif ($code_block_intent == "dframe") {
        if (substr($logic, 0, 1) == "}") {
            $code_block_footer = "});";
            $GLOBALS['code_block_tracker'] = substr(
                $GLOBALS['code_block_tracker'],
                0,
                $last_delimiter_pos
            );
        }
    } elseif ($code_block_intent == "while") {
        if (substr($logic, 0, 1) == "}") {
            $GLOBALS['inside_while_loop'] = 0;
            $GLOBALS['code_block_tracker'] = substr(
                $GLOBALS['code_block_tracker'],
                0,
                $last_delimiter_pos
            );
        }
    }

    if (substr($logic, 0, 1) == "{") {
        $logic =
            $code_block_header .
            "{ // start of code block\n" .
            substr($logic, 1) .
            "\n";
    } elseif (substr($logic, 0, 1) == "}") {
        $logic =
            "} // end of code block\n" .
            substr($logic, 1) .
            "\n" .
            $code_block_footer .
            "});\n";
    }
    $logic = str_replace("\n\n", "\n", $logic); // clean up empty lines from { and } processing

    // section 2 - natural language handling for conditions and loops
    if (
        substr($logic, 0, 3) == "if " or
        substr($logic, 0, 8) == "else if " or
        substr($logic, 0, 4) == "for " or
        substr($logic, 0, 6) == "while "
    ) {
        $logic = str_replace(" more than or equals to ", " >= ", $logic);
        $logic = str_replace(" greater than or equals to ", " >= ", $logic);
        $logic = str_replace(" higher than or equals to ", " >= ", $logic);
        $logic = str_replace(" less than or equals to ", " <= ", $logic);
        $logic = str_replace(" lesser than or equals to ", " <= ", $logic);
        $logic = str_replace(" lower than or equals to ", " <= ", $logic);
        $logic = str_replace(" more than or equal to ", " >= ", $logic);
        $logic = str_replace(" greater than or equal to ", " >= ", $logic);
        $logic = str_replace(" higher than or equal to ", " >= ", $logic);
        $logic = str_replace(" less than or equal to ", " <= ", $logic);
        $logic = str_replace(" lesser than or equal to ", " <= ", $logic);
        $logic = str_replace(" lower than or equal to ", " <= ", $logic);

        $logic = str_replace(" more than ", " > ", $logic);
        $logic = str_replace(" greater than ", " > ", $logic);
        $logic = str_replace(" higher than ", " > ", $logic);
        $logic = str_replace(" less than ", " < ", $logic);
        $logic = str_replace(" lesser than ", " < ", $logic);
        $logic = str_replace(" lower than ", " < ", $logic);
        $logic = str_replace(" not equals to ", " != ", $logic);
        $logic = str_replace(" equals to ", " == ", $logic);
        $logic = str_replace(" not equal to ", " != ", $logic);
        $logic = str_replace(" equal to ", " == ", $logic);

        // special handling to manage not contains, not contain, contains, contain conditions
        $contain_list = array(
            " not contains ",
            " not contain ",
            " contains ",
            " contain "
        );
        foreach ($contain_list as $contain_type) {
            // outer loop, iterate through 4 types of contain conditions
            for (
                $condition_counter = 1;
                $condition_counter <= 5;
                $condition_counter++
            ) {
                // inner loop, avoid while due to infinite loops
                if (strpos($logic, $contain_type) == !false) {
                    $pos_keyword = strpos($logic, $contain_type);
                    $pos_single_quote = strpos(
                        $logic,
                        "'",
                        $pos_keyword + strlen($contain_type)
                    ); // check type of quote used
                    if ($pos_single_quote == false) {
                        $pos_single_quote = 1024;
                    } // set to large number, for comparison later
                    $pos_double_quote = strpos(
                        $logic,
                        "\"",
                        $pos_keyword + strlen($contain_type)
                    ); // check type of quote used
                    if ($pos_double_quote == false) {
                        $pos_double_quote = 1024;
                    } // set to large number, for comparison later
                    if ($pos_double_quote < $pos_single_quote) {
                        $pos_quote_start = $pos_double_quote;
                        $quote_type = "\"";
                    } elseif ($pos_single_quote < $pos_double_quote) {
                        $pos_quote_start = $pos_single_quote;
                        $quote_type = "'";
                    } else {
                        echo "ERROR - " .
                            current_line() .
                            " no quoted text - " .
                            $raw_logic .
                            "\n";
                        $quote_type = "missing";
                    }
                    if ($quote_type != "missing") {
                        $pos_quote_end = strpos(
                            $logic,
                            $quote_type,
                            $pos_quote_start + 1
                        );
                        $pos_variable_start = strrpos(
                            $logic,
                            " ",
                            $pos_keyword - strlen($logic) - 2
                        );
                        $contain_operator = "<0";
                        if (
                            $contain_type == " contains " or
                            $contain_type == " contain "
                        ) {
                            $contain_operator = ">-1";
                        }
                        $logic =
                            substr($logic, 0, $pos_variable_start + 1) .
                            "(" .
                            trim(
                                substr(
                                    $logic,
                                    $pos_variable_start,
                                    $pos_keyword - $pos_variable_start
                                )
                            ) .
                            ".indexOf(" .
                            $quote_type .
                            substr(
                                $logic,
                                $pos_quote_start + 1,
                                $pos_quote_end - $pos_quote_start - 1
                            ) .
                            $quote_type .
                            ")" .
                            $contain_operator .
                            ")" .
                            substr($logic, $pos_quote_end + 1);
                    }
                } else {
                    break;
                }
            }
        }

        // $logic = str_replace(" not "," ! ",$logic); // leaving not out until meaningful to implement
        $logic = str_replace(" and ", ") && (", $logic);
        $logic = str_replace(" or ", ") || (", $logic);

        // special handling to manage for loop in natural language
        if (substr($logic, 0, 4) == "for " and strpos($logic, ";") == false) {
            // no ; means in natural language
            if (strpos($raw_logic, "count(") !== false) {
                echo "ERROR - " .
                    current_line() .
                    " assign count() to variable before using - " .
                    $raw_logic .
                    "\n";
            }
            $logic = str_replace("(", "", $logic);
            $logic = str_replace(")", "", $logic); // remove brackets if present
            $logic = str_replace("   ", " ", $logic);
            $logic = str_replace("  ", " ", $logic); // remove typo extra spaces
            $token = explode(" ", $logic); // split into tokens for loop in natural language, eg - for cupcake from 1 to 4
            if (strpos($raw_logic, "{") !== false) {
                // show error to put { to  next line for parsing as { step
                echo "ERROR - " .
                    current_line() .
                    " put { to next line - " .
                    $raw_logic .
                    "\n";
            } elseif (@count($token) != 6) {
                echo "ERROR - " .
                    current_line() .
                    " invalid for loop - " .
                    $raw_logic .
                    "\n";
            } else {
                $logic =
                    $token[0] .
                    " (" .
                    $token[1] .
                    "=" .
                    $token[3] .
                    "; " .
                    $token[1] .
                    "<=" .
                    $token[5] .
                    "; " .
                    $token[1] .
                    "++)";
            }
        } elseif (
            substr($logic, 0, 4) == "for " and
            strpos($raw_logic, "{") !== false
        ) {
            echo "ERROR - " .
                current_line() .
                " put { to next line - " .
                $raw_logic .
                "\n";
        }

        // add to tracker the for loop variable name, to implement IIFE pattern if step/code blocks are used
        if (substr($logic, 0, 4) == "for ") {
            // get the variable name used in the for loop and append into tracker
            $GLOBALS['code_block_tracker'] .= "|" . 'for'; // append for loop marker to track upcoming code block
            $GLOBALS['for_loop_tracker'] .=
                "|" .
                trim(
                    substr(
                        $logic,
                        strpos($logic, "(") + 1,
                        strpos($logic, "=") - strpos($logic, "(") - 1
                    )
                );
        }

        // add opening and closing brackets twice to handle no brackets, and, or cases
        if (substr($logic, 0, 3) == "if ") {
            $GLOBALS['code_block_tracker'] .= "|" . 'if';
            $logic = "if ((" . trim(substr($logic, 3)) . "))";
            if (strpos($raw_logic, "{") !== false) {
                echo "ERROR - " .
                    current_line() .
                    " put { to next line - " .
                    $raw_logic .
                    "\n";
            }
        }
        if (substr($logic, 0, 8) == "else if ") {
            $GLOBALS['code_block_tracker'] .= "|" . 'else if';
            $logic = "else if ((" . trim(substr($logic, 8)) . "))";
            if (strpos($raw_logic, "{") !== false) {
                echo "ERROR - " .
                    current_line() .
                    " put { to next line - " .
                    $raw_logic .
                    "\n";
            }
        }
        if (substr($logic, 0, 6) == "while ") {
            $GLOBALS['code_block_tracker'] .= "|" . 'while';
            $logic = "while ((" . trim(substr($logic, 6)) . "))";
            if (strpos($raw_logic, "{") !== false) {
                echo "ERROR - " .
                    current_line() .
                    " put { to next line - " .
                    $raw_logic .
                    "\n";
            }
        }
    }

    // special part for else because not in section 2 condition block
    if (trim($logic) == "else") {
        $GLOBALS['code_block_tracker'] .= "|" . 'else';
        $logic = "else";
        if (strpos($raw_logic, "{") !== false) {
            echo "ERROR - " .
                current_line() .
                " put { to next line - " .
                $raw_logic .
                "\n";
        }
    }

    // section 3 - track if next statement is going to be or still inside while loop,
    // then avoid async wait (casper.then/waitFor/timeout will hang casperjs/phantomjs??)
    if (substr($logic, 0, 6) == "while ") {
        $GLOBALS['inside_while_loop'] = 1;
    }

    // section 4 - to handle break and continue steps in for loops
    if ($logic == "break" or $logic == "break;") {
        $teleport_marker = str_replace(
            "|",
            "",
            substr(
                $GLOBALS['for_loop_tracker'],
                strrpos($GLOBALS['for_loop_tracker'], "|")
            )
        );
        $logic =
            "casper.bypass(teleport_distance('[BREAK_SIGNAL][" .
            $teleport_marker .
            "]')); return;";
    }
    if ($logic == "continue" or $logic == "continue;") {
        $teleport_marker = str_replace(
            "|",
            "",
            substr(
                $GLOBALS['for_loop_tracker'],
                strrpos($GLOBALS['for_loop_tracker'], "|")
            )
        );
        $logic =
            "casper.bypass(teleport_distance('[CONTINUE_SIGNAL][" .
            $teleport_marker .
            "]')); return;";
    }

    // return code after all the parsing and special handling
    return $logic;
}

?>

```
